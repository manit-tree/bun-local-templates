import{createRequire as h4}from"node:module";var N4=Object.create;var{getPrototypeOf:D4,defineProperty:m1,getOwnPropertyNames:f4}=Object;var F4=Object.prototype.hasOwnProperty;var U4=(K,$,w)=>{w=K!=null?N4(D4(K)):{};const X=$||!K||!K.__esModule?m1(w,"default",{value:K,enumerable:!0}):w;for(let Y of f4(K))if(!F4.call(X,Y))m1(X,Y,{get:()=>K[Y],enumerable:!0});return X};var h=(K,$)=>()=>($||K(($={exports:{}}).exports,$),$.exports);var P=h4(import.meta.url);var g=h((v0,f0)=>{function P4(K){return u1.includes(K)}function A4(K){return z4.includes(K)}function j4(K){return H4.includes(K)}function n(K){return($)=>typeof $===K}function V(K){if(K===null)return"null";switch(typeof K){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(V.observable(K))return"Observable";if(V.array(K))return"Array";if(V.buffer(K))return"Buffer";const $=V0(K);if($)return $;if(K instanceof String||K instanceof Boolean||K instanceof Number)throw new TypeError("Please don\'t use object wrappers for primitive types");return"Object"}Object.defineProperty(v0,"__esModule",{value:!0});var u1=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"],z4=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...u1],H4=["null","undefined","string","number","bigint","boolean","symbol"],{toString:l1}=Object.prototype,V0=(K)=>{const $=l1.call(K).slice(8,-1);if(/HTML\w+Element/.test($)&&V.domElement(K))return"HTMLElement";if(A4($))return $;return},A=(K)=>($)=>V0($)===K;V.undefined=n("undefined");V.string=n("string");var x4=n("number");V.number=(K)=>x4(K)&&!V.nan(K);V.bigint=n("bigint");V.function_=n("function");V.null_=(K)=>K===null;V.class_=(K)=>V.function_(K)&&K.toString().startsWith("class ");V.boolean=(K)=>K===!0||K===!1;V.symbol=n("symbol");V.numericString=(K)=>V.string(K)&&!V.emptyStringOrWhitespace(K)&&!Number.isNaN(Number(K));V.array=(K,$)=>{if(!Array.isArray(K))return!1;if(!V.function_($))return!0;return K.every($)};V.buffer=(K)=>{var $,w,X,Y;return(Y=(X=(w=($=K)===null||$===void 0?void 0:$.constructor)===null||w===void 0?void 0:w.isBuffer)===null||X===void 0?void 0:X.call(w,K))!==null&&Y!==void 0?Y:!1};V.blob=(K)=>A("Blob")(K);V.nullOrUndefined=(K)=>V.null_(K)||V.undefined(K);V.object=(K)=>!V.null_(K)&&(typeof K==="object"||V.function_(K));V.iterable=(K)=>{var $;return V.function_(($=K)===null||$===void 0?void 0:$[Symbol.iterator])};V.asyncIterable=(K)=>{var $;return V.function_(($=K)===null||$===void 0?void 0:$[Symbol.asyncIterator])};V.generator=(K)=>{var $,w;return V.iterable(K)&&V.function_(($=K)===null||$===void 0?void 0:$.next)&&V.function_((w=K)===null||w===void 0?void 0:w.throw)};V.asyncGenerator=(K)=>V.asyncIterable(K)&&V.function_(K.next)&&V.function_(K.throw);V.nativePromise=(K)=>A("Promise")(K);var E4=(K)=>{var $,w;return V.function_(($=K)===null||$===void 0?void 0:$.then)&&V.function_((w=K)===null||w===void 0?void 0:w.catch)};V.promise=(K)=>V.nativePromise(K)||E4(K);V.generatorFunction=A("GeneratorFunction");V.asyncGeneratorFunction=(K)=>V0(K)==="AsyncGeneratorFunction";V.asyncFunction=(K)=>V0(K)==="AsyncFunction";V.boundFunction=(K)=>V.function_(K)&&!K.hasOwnProperty("prototype");V.regExp=A("RegExp");V.date=A("Date");V.error=A("Error");V.map=(K)=>A("Map")(K);V.set=(K)=>A("Set")(K);V.weakMap=(K)=>A("WeakMap")(K);V.weakSet=(K)=>A("WeakSet")(K);V.int8Array=A("Int8Array");V.uint8Array=A("Uint8Array");V.uint8ClampedArray=A("Uint8ClampedArray");V.int16Array=A("Int16Array");V.uint16Array=A("Uint16Array");V.int32Array=A("Int32Array");V.uint32Array=A("Uint32Array");V.float32Array=A("Float32Array");V.float64Array=A("Float64Array");V.bigInt64Array=A("BigInt64Array");V.bigUint64Array=A("BigUint64Array");V.arrayBuffer=A("ArrayBuffer");V.sharedArrayBuffer=A("SharedArrayBuffer");V.dataView=A("DataView");V.enumCase=(K,$)=>Object.values($).includes(K);V.directInstanceOf=(K,$)=>Object.getPrototypeOf(K)===$.prototype;V.urlInstance=(K)=>A("URL")(K);V.urlString=(K)=>{if(!V.string(K))return!1;try{return new URL(K),!0}catch($){return!1}};V.truthy=(K)=>Boolean(K);V.falsy=(K)=>!K;V.nan=(K)=>Number.isNaN(K);V.primitive=(K)=>V.null_(K)||j4(typeof K);V.integer=(K)=>Number.isInteger(K);V.safeInteger=(K)=>Number.isSafeInteger(K);V.plainObject=(K)=>{if(l1.call(K)!=="[object Object]")return!1;const $=Object.getPrototypeOf(K);return $===null||$===Object.getPrototypeOf({})};V.typedArray=(K)=>P4(V0(K));var C4=(K)=>V.safeInteger(K)&&K>=0;V.arrayLike=(K)=>!V.nullOrUndefined(K)&&!V.function_(K)&&C4(K.length);V.inRange=(K,$)=>{if(V.number($))return K>=Math.min(0,$)&&K<=Math.max($,0);if(V.array($)&&$.length===2)return K>=Math.min(...$)&&K<=Math.max(...$);throw new TypeError(`Invalid range: ${JSON.stringify($)}`)};var S4=1,R4=["innerHTML","ownerDocument","style","attributes","nodeValue"];V.domElement=(K)=>{return V.object(K)&&K.nodeType===S4&&V.string(K.nodeName)&&!V.plainObject(K)&&R4.every(($)=>($ in K))};V.observable=(K)=>{var $,w,X,Y;if(!K)return!1;if(K===((w=($=K)[Symbol.observable])===null||w===void 0?void 0:w.call($)))return!0;if(K===((Y=(X=K)["@@observable"])===null||Y===void 0?void 0:Y.call(X)))return!0;return!1};V.nodeStream=(K)=>V.object(K)&&V.function_(K.pipe)&&!V.observable(K);V.infinite=(K)=>K===1/0||K===-1/0;var p1=(K)=>($)=>V.integer($)&&Math.abs($%2)===K;V.evenInteger=p1(0);V.oddInteger=p1(1);V.emptyArray=(K)=>V.array(K)&&K.length===0;V.nonEmptyArray=(K)=>V.array(K)&&K.length>0;V.emptyString=(K)=>V.string(K)&&K.length===0;var O4=(K)=>V.string(K)&&!/\S/.test(K);V.emptyStringOrWhitespace=(K)=>V.emptyString(K)||O4(K);V.nonEmptyString=(K)=>V.string(K)&&K.length>0;V.nonEmptyStringAndNotWhitespace=(K)=>V.string(K)&&!V.emptyStringOrWhitespace(K);V.emptyObject=(K)=>V.object(K)&&!V.map(K)&&!V.set(K)&&Object.keys(K).length===0;V.nonEmptyObject=(K)=>V.object(K)&&!V.map(K)&&!V.set(K)&&Object.keys(K).length>0;V.emptySet=(K)=>V.set(K)&&K.size===0;V.nonEmptySet=(K)=>V.set(K)&&K.size>0;V.emptyMap=(K)=>V.map(K)&&K.size===0;V.nonEmptyMap=(K)=>V.map(K)&&K.size>0;V.propertyKey=(K)=>V.any([V.string,V.number,V.symbol],K);V.formData=(K)=>A("FormData")(K);V.urlSearchParams=(K)=>A("URLSearchParams")(K);var i1=(K,$,w)=>{if(!V.function_($))throw new TypeError(`Invalid predicate: ${JSON.stringify($)}`);if(w.length===0)throw new TypeError("Invalid number of values");return K.call(w,$)};V.any=(K,...$)=>{return(V.array(K)?K:[K]).some((X)=>i1(Array.prototype.some,X,$))};V.all=(K,...$)=>i1(Array.prototype.every,K,$);var D=(K,$,w,X={})=>{if(!K){const{multipleValues:Y}=X,G=Y?`received values of types ${[...new Set(w.map((Q)=>`\`${V(Q)}\``))].join(", ")}`:`received value of type \`${V(w)}\``;throw new TypeError(`Expected value which is \`${$}\`, ${G}.`)}};v0.assert={undefined:(K)=>D(V.undefined(K),"undefined",K),string:(K)=>D(V.string(K),"string",K),number:(K)=>D(V.number(K),"number",K),bigint:(K)=>D(V.bigint(K),"bigint",K),function_:(K)=>D(V.function_(K),"Function",K),null_:(K)=>D(V.null_(K),"null",K),class_:(K)=>D(V.class_(K),"Class",K),boolean:(K)=>D(V.boolean(K),"boolean",K),symbol:(K)=>D(V.symbol(K),"symbol",K),numericString:(K)=>D(V.numericString(K),"string with a number",K),array:(K,$)=>{if(D(V.array(K),"Array",K),$)K.forEach($)},buffer:(K)=>D(V.buffer(K),"Buffer",K),blob:(K)=>D(V.blob(K),"Blob",K),nullOrUndefined:(K)=>D(V.nullOrUndefined(K),"null or undefined",K),object:(K)=>D(V.object(K),"Object",K),iterable:(K)=>D(V.iterable(K),"Iterable",K),asyncIterable:(K)=>D(V.asyncIterable(K),"AsyncIterable",K),generator:(K)=>D(V.generator(K),"Generator",K),asyncGenerator:(K)=>D(V.asyncGenerator(K),"AsyncGenerator",K),nativePromise:(K)=>D(V.nativePromise(K),"native Promise",K),promise:(K)=>D(V.promise(K),"Promise",K),generatorFunction:(K)=>D(V.generatorFunction(K),"GeneratorFunction",K),asyncGeneratorFunction:(K)=>D(V.asyncGeneratorFunction(K),"AsyncGeneratorFunction",K),asyncFunction:(K)=>D(V.asyncFunction(K),"AsyncFunction",K),boundFunction:(K)=>D(V.boundFunction(K),"Function",K),regExp:(K)=>D(V.regExp(K),"RegExp",K),date:(K)=>D(V.date(K),"Date",K),error:(K)=>D(V.error(K),"Error",K),map:(K)=>D(V.map(K),"Map",K),set:(K)=>D(V.set(K),"Set",K),weakMap:(K)=>D(V.weakMap(K),"WeakMap",K),weakSet:(K)=>D(V.weakSet(K),"WeakSet",K),int8Array:(K)=>D(V.int8Array(K),"Int8Array",K),uint8Array:(K)=>D(V.uint8Array(K),"Uint8Array",K),uint8ClampedArray:(K)=>D(V.uint8ClampedArray(K),"Uint8ClampedArray",K),int16Array:(K)=>D(V.int16Array(K),"Int16Array",K),uint16Array:(K)=>D(V.uint16Array(K),"Uint16Array",K),int32Array:(K)=>D(V.int32Array(K),"Int32Array",K),uint32Array:(K)=>D(V.uint32Array(K),"Uint32Array",K),float32Array:(K)=>D(V.float32Array(K),"Float32Array",K),float64Array:(K)=>D(V.float64Array(K),"Float64Array",K),bigInt64Array:(K)=>D(V.bigInt64Array(K),"BigInt64Array",K),bigUint64Array:(K)=>D(V.bigUint64Array(K),"BigUint64Array",K),arrayBuffer:(K)=>D(V.arrayBuffer(K),"ArrayBuffer",K),sharedArrayBuffer:(K)=>D(V.sharedArrayBuffer(K),"SharedArrayBuffer",K),dataView:(K)=>D(V.dataView(K),"DataView",K),enumCase:(K,$)=>D(V.enumCase(K,$),"EnumCase",K),urlInstance:(K)=>D(V.urlInstance(K),"URL",K),urlString:(K)=>D(V.urlString(K),"string with a URL",K),truthy:(K)=>D(V.truthy(K),"truthy",K),falsy:(K)=>D(V.falsy(K),"falsy",K),nan:(K)=>D(V.nan(K),"NaN",K),primitive:(K)=>D(V.primitive(K),"primitive",K),integer:(K)=>D(V.integer(K),"integer",K),safeInteger:(K)=>D(V.safeInteger(K),"integer",K),plainObject:(K)=>D(V.plainObject(K),"plain object",K),typedArray:(K)=>D(V.typedArray(K),"TypedArray",K),arrayLike:(K)=>D(V.arrayLike(K),"array-like",K),domElement:(K)=>D(V.domElement(K),"HTMLElement",K),observable:(K)=>D(V.observable(K),"Observable",K),nodeStream:(K)=>D(V.nodeStream(K),"Node.js Stream",K),infinite:(K)=>D(V.infinite(K),"infinite number",K),emptyArray:(K)=>D(V.emptyArray(K),"empty array",K),nonEmptyArray:(K)=>D(V.nonEmptyArray(K),"non-empty array",K),emptyString:(K)=>D(V.emptyString(K),"empty string",K),emptyStringOrWhitespace:(K)=>D(V.emptyStringOrWhitespace(K),"empty string or whitespace",K),nonEmptyString:(K)=>D(V.nonEmptyString(K),"non-empty string",K),nonEmptyStringAndNotWhitespace:(K)=>D(V.nonEmptyStringAndNotWhitespace(K),"non-empty string and not whitespace",K),emptyObject:(K)=>D(V.emptyObject(K),"empty object",K),nonEmptyObject:(K)=>D(V.nonEmptyObject(K),"non-empty object",K),emptySet:(K)=>D(V.emptySet(K),"empty set",K),nonEmptySet:(K)=>D(V.nonEmptySet(K),"non-empty set",K),emptyMap:(K)=>D(V.emptyMap(K),"empty map",K),nonEmptyMap:(K)=>D(V.nonEmptyMap(K),"non-empty map",K),propertyKey:(K)=>D(V.propertyKey(K),"PropertyKey",K),formData:(K)=>D(V.formData(K),"FormData",K),urlSearchParams:(K)=>D(V.urlSearchParams(K),"URLSearchParams",K),evenInteger:(K)=>D(V.evenInteger(K),"even integer",K),oddInteger:(K)=>D(V.oddInteger(K),"odd integer",K),directInstanceOf:(K,$)=>D(V.directInstanceOf(K,$),"T",K),inRange:(K,$)=>D(V.inRange(K,$),"in range",K),any:(K,...$)=>{return D(V.any(K,...$),"predicate returns truthy for any value",$,{multipleValues:!0})},all:(K,...$)=>D(V.all(K,...$),"predicate returns truthy for all values",$,{multipleValues:!0})};Object.defineProperties(V,{class:{value:V.class_},function:{value:V.function_},null:{value:V.null_}});Object.defineProperties(v0.assert,{class:{value:v0.assert.class_},function:{value:v0.assert.function_},null:{value:v0.assert.null_}});v0.default=V;f0.exports=V;f0.exports.default=V;f0.exports.assert=v0.assert});var a1=h((W8,u0)=>{class m0 extends Error{constructor(K){super(K||"Promise was canceled");this.name="CancelError"}get isCanceled(){return!0}}class F0{static fn(K){return(...$)=>{return new F0((w,X,Y)=>{$.push(Y),K(...$).then(w,X)})}}constructor(K){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise(($,w)=>{this._reject=w;const X=(Q)=>{if(!this._isCanceled||!G.shouldReject)this._isPending=!1,$(Q)},Y=(Q)=>{this._isPending=!1,w(Q)},G=(Q)=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(Q)};return Object.defineProperties(G,{shouldReject:{get:()=>this._rejectOnCancel,set:(Q)=>{this._rejectOnCancel=Q}}}),K(X,Y,G)})}then(K,$){return this._promise.then(K,$)}catch(K){return this._promise.catch(K)}finally(K){return this._promise.finally(K)}cancel(K){if(!this._isPending||this._isCanceled)return;if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let $ of this._cancelHandlers)$()}catch($){this._reject($);return}if(this._rejectOnCancel)this._reject(new m0(K))}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(F0.prototype,Promise.prototype);u0.exports=F0;u0.exports.CancelError=m0});var t1=h((n1,p0)=>{function y4(K){return K.encrypted}Object.defineProperty(n1,"__esModule",{value:!0});var l0=(K,$)=>{let w;if(typeof $==="function")w={connect:$};else w=$;const X=typeof w.connect==="function",Y=typeof w.secureConnect==="function",G=typeof w.close==="function",Q=()=>{if(X)w.connect();if(y4(K)&&Y){if(K.authorized)w.secureConnect();else if(!K.authorizationError)K.once("secureConnect",w.secureConnect)}if(G)K.once("close",w.close)};if(K.writable&&!K.connecting)Q();else if(K.connecting)K.once("connect",Q);else if(K.destroyed&&G)w.close(K._hadError)};n1.default=l0;p0.exports=l0;p0.exports.default=l0});var s1=h((r1,a0)=>{Object.defineProperty(r1,"__esModule",{value:!0});var q4=t1(),_4=P("util"),k4=Number(process.versions.node.split(".")[0]),i0=(K)=>{if(K.timings)return K.timings;const $={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};K.timings=$;const w=(Z)=>{const M=Z.emit.bind(Z);Z.emit=(F,...B)=>{if(F==="error")$.error=Date.now(),$.phases.total=$.error-$.start,Z.emit=M;return M(F,...B)}};w(K);const X=()=>{if($.abort=Date.now(),!$.response||k4>=13)$.phases.total=Date.now()-$.start};K.prependOnceListener("abort",X);const Y=(Z)=>{if($.socket=Date.now(),$.phases.wait=$.socket-$.start,_4.types.isProxy(Z))return;const M=()=>{$.lookup=Date.now(),$.phases.dns=$.lookup-$.socket};Z.prependOnceListener("lookup",M),q4.default(Z,{connect:()=>{if($.connect=Date.now(),$.lookup===void 0)Z.removeListener("lookup",M),$.lookup=$.connect,$.phases.dns=$.lookup-$.socket;$.phases.tcp=$.connect-$.lookup},secureConnect:()=>{$.secureConnect=Date.now(),$.phases.tls=$.secureConnect-$.connect}})};if(K.socket)Y(K.socket);else K.prependOnceListener("socket",Y);const G=()=>{var Z;$.upload=Date.now(),$.phases.request=$.upload-((Z=$.secureConnect)!==null&&Z!==void 0?Z:$.connect)};if((()=>{if(typeof K.writableFinished==="boolean")return K.writableFinished;return K.finished&&K.outputSize===0&&(!K.socket||K.socket.writableLength===0)})())G();else K.prependOnceListener("finish",G);return K.prependOnceListener("response",(Z)=>{$.response=Date.now(),$.phases.firstByte=$.response-$.upload,Z.timings=$,w(Z),Z.prependOnceListener("end",()=>{$.end=Date.now(),$.phases.download=$.end-$.response,$.phases.total=$.end-$.start}),Z.prependOnceListener("aborted",X)}),$};r1.default=i0;a0.exports=i0;a0.exports.default=i0});var YK=h((I8,s0)=>{var{V4MAPPED:c4,ADDRCONFIG:d4,ALL:XK,promises:{Resolver:o1},lookup:v4}=P("dns"),{promisify:n0}=P("util"),m4=P("os"),t=Symbol("cacheableLookupCreateConnection"),t0=Symbol("cacheableLookupInstance"),e1=Symbol("expires"),u4=typeof XK==="number",KK=(K)=>{if(!(K&&typeof K.createConnection==="function"))throw new Error("Expected an Agent instance as the first argument")},l4=(K)=>{for(let $ of K){if($.family===6)continue;$.address=`::ffff:${$.address}`,$.family=6}},$K=()=>{let K=!1,$=!1;for(let w of Object.values(m4.networkInterfaces()))for(let X of w){if(X.internal)continue;if(X.family==="IPv6")$=!0;else K=!0;if(K&&$)return{has4:K,has6:$}}return{has4:K,has6:$}},p4=(K)=>{return Symbol.iterator in K},wK={ttl:!0},i4={all:!0};class r0{constructor({cache:K=new Map,maxTtl:$=1/0,fallbackDuration:w=3600,errorTtl:X=0.15,resolver:Y=new o1,lookup:G=v4}={}){if(this.maxTtl=$,this.errorTtl=X,this._cache=K,this._resolver=Y,this._dnsLookup=n0(G),this._resolver instanceof o1)this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver);else this._resolve4=n0(this._resolver.resolve4.bind(this._resolver)),this._resolve6=n0(this._resolver.resolve6.bind(this._resolver));if(this._iface=$K(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,w<1)this._fallback=!1;else{this._fallback=!0;const Q=setInterval(()=>{this._hostnamesToFallback.clear()},w*1000);if(Q.unref)Q.unref()}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(K){this.clear(),this._resolver.setServers(K)}get servers(){return this._resolver.getServers()}lookup(K,$,w){if(typeof $==="function")w=$,$={};else if(typeof $==="number")$={family:$};if(!w)throw new Error("Callback must be a function.");this.lookupAsync(K,$).then((X)=>{if($.all)w(null,X);else w(null,X.address,X.family,X.expires,X.ttl)},w)}async lookupAsync(K,$={}){if(typeof $==="number")$={family:$};let w=await this.query(K);if($.family===6){const X=w.filter((Y)=>Y.family===6);if($.hints&c4)if(u4&&$.hints&XK||X.length===0)l4(w);else w=X;else w=X}else if($.family===4)w=w.filter((X)=>X.family===4);if($.hints&d4){const{_iface:X}=this;w=w.filter((Y)=>Y.family===6?X.has6:X.has4)}if(w.length===0){const X=new Error(`cacheableLookup ENOTFOUND ${K}`);throw X.code="ENOTFOUND",X.hostname=K,X}if($.all)return w;return w[0]}async query(K){let $=await this._cache.get(K);if(!$){const w=this._pending[K];if(w)$=await w;else{const X=this.queryAndCache(K);this._pending[K]=X;try{$=await X}finally{delete this._pending[K]}}}return $=$.map((w)=>{return{...w}}),$}async _resolve(K){const $=async(M)=>{try{return await M}catch(F){if(F.code==="ENODATA"||F.code==="ENOTFOUND")return[];throw F}},[w,X]=await Promise.all([this._resolve4(K,wK),this._resolve6(K,wK)].map((M)=>$(M)));let Y=0,G=0,Q=0;const Z=Date.now();for(let M of w)M.family=4,M.expires=Z+M.ttl*1000,Y=Math.max(Y,M.ttl);for(let M of X)M.family=6,M.expires=Z+M.ttl*1000,G=Math.max(G,M.ttl);if(w.length>0)if(X.length>0)Q=Math.min(Y,G);else Q=Y;else Q=G;return{entries:[...w,...X],cacheTtl:Q}}async _lookup(K){try{return{entries:await this._dnsLookup(K,{all:!0}),cacheTtl:0}}catch($){return{entries:[],cacheTtl:0}}}async _set(K,$,w){if(this.maxTtl>0&&w>0){w=Math.min(w,this.maxTtl)*1000,$[e1]=Date.now()+w;try{await this._cache.set(K,$,w)}catch(X){this.lookupAsync=async()=>{const Y=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw Y.cause=X,Y}}if(p4(this._cache))this._tick(w)}}async queryAndCache(K){if(this._hostnamesToFallback.has(K))return this._dnsLookup(K,i4);let $=await this._resolve(K);if($.entries.length===0&&this._fallback){if($=await this._lookup(K),$.entries.length!==0)this._hostnamesToFallback.add(K)}const w=$.entries.length===0?this.errorTtl:$.cacheTtl;return await this._set(K,$.entries,w),$.entries}_tick(K){const $=this._nextRemovalTime;if(!$||K<$){if(clearTimeout(this._removalTimeout),this._nextRemovalTime=K,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let w=1/0;const X=Date.now();for(let[Y,G]of this._cache){const Q=G[e1];if(X>=Q)this._cache.delete(Y);else if(Q<w)w=Q}if(w!==1/0)this._tick(w-X)},K),this._removalTimeout.unref)this._removalTimeout.unref()}}install(K){if(KK(K),t in K)throw new Error("CacheableLookup has been already installed");K[t]=K.createConnection,K[t0]=this,K.createConnection=($,w)=>{if(!("lookup"in $))$.lookup=this.lookup;return K[t]($,w)}}uninstall(K){if(KK(K),K[t]){if(K[t0]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");K.createConnection=K[t],delete K[t],delete K[t0]}}updateInterfaceInfo(){const{_iface:K}=this;if(this._iface=$K(),K.has4&&!this._iface.has4||K.has6&&!this._iface.has6)this._cache.clear()}clear(K){if(K){this._cache.delete(K);return}this._cache.clear()}}s0.exports=r0;s0.exports.default=r0});var VK=h((B8,QK)=>{var GK=(K,$)=>{return $.some((w)=>w instanceof RegExp?w.test(K):w===K)},a4=(K,{stripHash:$})=>{const w=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(K);if(!w)throw new Error(`Invalid URL: ${K}`);let{type:X,data:Y,hash:G}=w.groups;const Q=X.split(";");G=$?"":G;let Z=!1;if(Q[Q.length-1]==="base64")Q.pop(),Z=!0;const M=(Q.shift()||"").toLowerCase(),B=[...Q.map((L)=>{let[I,U=""]=L.split("=").map((N)=>N.trim());if(I==="charset"){if(U=U.toLowerCase(),U==="us-ascii")return""}return`${I}${U?`=${U}`:""}`}).filter(Boolean)];if(Z)B.push("base64");if(B.length!==0||M&&M!=="text/plain")B.unshift(M);return`data:${B.join(";")},${Z?Y.trim():Y}${G?`#${G}`:""}`},n4=(K,$)=>{if($={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...$},K=K.trim(),/^data:/i.test(K))return a4(K,$);if(/^view-source:/i.test(K))throw new Error("`view-source:` is not supported as it is a non-standard protocol");const w=K.startsWith("//");if(!(!w&&/^\.*\//.test(K)))K=K.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,$.defaultProtocol);const Y=new URL(K);if($.forceHttp&&$.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if($.forceHttp&&Y.protocol==="https:")Y.protocol="http:";if($.forceHttps&&Y.protocol==="http:")Y.protocol="https:";if($.stripAuthentication)Y.username="",Y.password="";if($.stripHash)Y.hash="";else if($.stripTextFragment)Y.hash=Y.hash.replace(/#?:~:text.*?$/i,"");if(Y.pathname)Y.pathname=Y.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/");if(Y.pathname)try{Y.pathname=decodeURI(Y.pathname)}catch(Q){}if($.removeDirectoryIndex===!0)$.removeDirectoryIndex=[/^index\.[a-z]+$/];if(Array.isArray($.removeDirectoryIndex)&&$.removeDirectoryIndex.length>0){let Q=Y.pathname.split("/");const Z=Q[Q.length-1];if(GK(Z,$.removeDirectoryIndex))Q=Q.slice(0,Q.length-1),Y.pathname=Q.slice(1).join("/")+"/"}if(Y.hostname){if(Y.hostname=Y.hostname.replace(/\.$/,""),$.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(Y.hostname))Y.hostname=Y.hostname.replace(/^www\./,"")}if(Array.isArray($.removeQueryParameters)){for(let Q of[...Y.searchParams.keys()])if(GK(Q,$.removeQueryParameters))Y.searchParams.delete(Q)}if($.removeQueryParameters===!0)Y.search="";if($.sortQueryParameters)Y.searchParams.sort();if($.removeTrailingSlash)Y.pathname=Y.pathname.replace(/\/$/,"");const G=K;if(K=Y.toString(),!$.removeSingleSlash&&Y.pathname==="/"&&!G.endsWith("/")&&Y.hash==="")K=K.replace(/\/$/,"");if(($.removeTrailingSlash||Y.pathname==="/")&&Y.hash===""&&$.removeSingleSlash)K=K.replace(/\/$/,"");if(w&&!$.normalizeProtocol)K=K.replace(/^http:\/\//,"//");if($.stripProtocol)K=K.replace(/^(?:https?:)?\/\//,"");return K};QK.exports=n4});var LK=h((N8,MK)=>{function ZK(K,$){if(K&&$)return ZK(K)($);if(typeof K!=="function")throw new TypeError("need wrapper function");return Object.keys(K).forEach(function(X){w[X]=K[X]}),w;function w(){var X=new Array(arguments.length);for(var Y=0;Y<X.length;Y++)X[Y]=arguments[Y];var G=K.apply(this,X),Q=X[X.length-1];if(typeof G==="function"&&G!==Q)Object.keys(Q).forEach(function(Z){G[Z]=Q[Z]});return G}}MK.exports=ZK});var e0=h((D8,o0)=>{function U0(K){var $=function(){if($.called)return $.value;return $.called=!0,$.value=K.apply(this,arguments)};return $.called=!1,$}function WK(K){var $=function(){if($.called)throw new Error($.onceError);return $.called=!0,$.value=K.apply(this,arguments)},w=K.name||"Function wrapped with `once`";return $.onceError=w+" shouldn't be called more than once",$.called=!1,$}var JK=LK();o0.exports=JK(U0);o0.exports.strict=JK(WK);U0.proto=U0(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return U0(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return WK(this)},configurable:!0})})});var NK=h((f8,BK)=>{var t4=e0(),r4=function(){},s4=function(K){return K.setHeader&&typeof K.abort==="function"},o4=function(K){return K.stdio&&Array.isArray(K.stdio)&&K.stdio.length===3},IK=function(K,$,w){if(typeof $==="function")return IK(K,null,$);if(!$)$={};w=t4(w||r4);var{_writableState:X,_readableState:Y}=K,G=$.readable||$.readable!==!1&&K.readable,Q=$.writable||$.writable!==!1&&K.writable,Z=!1,M=function(){if(!K.writable)F()},F=function(){if(Q=!1,!G)w.call(K)},B=function(){if(G=!1,!Q)w.call(K)},L=function(f){w.call(K,f?new Error("exited with error code: "+f):null)},I=function(f){w.call(K,f)},U=function(){process.nextTick(N)},N=function(){if(Z)return;if(G&&!(Y&&(Y.ended&&!Y.destroyed)))return w.call(K,new Error("premature close"));if(Q&&!(X&&(X.ended&&!X.destroyed)))return w.call(K,new Error("premature close"))},W=function(){K.req.on("finish",F)};if(s4(K))if(K.on("complete",F),K.on("abort",U),K.req)W();else K.on("request",W);else if(Q&&!X)K.on("end",M),K.on("close",M);if(o4(K))K.on("exit",L);if(K.on("end",B),K.on("finish",F),$.error!==!1)K.on("error",I);return K.on("close",U),function(){if(Z=!0,K.removeListener("complete",F),K.removeListener("abort",U),K.removeListener("request",W),K.req)K.req.removeListener("finish",F);K.removeListener("end",M),K.removeListener("close",M),K.removeListener("finish",F),K.removeListener("exit",L),K.removeListener("end",B),K.removeListener("error",I),K.removeListener("close",U)}};BK.exports=IK});var FK=h((F8,fK)=>{var e4=e0(),Kw=NK(),h0;try{h0=P("fs")}catch(K){}var Z0=function(){},$w=/^v?\.0/.test(process.version),P0=function(K){return typeof K==="function"},ww=function(K){if(!$w)return!1;if(!h0)return!1;return(K instanceof(h0.ReadStream||Z0)||K instanceof(h0.WriteStream||Z0))&&P0(K.close)},Xw=function(K){return K.setHeader&&P0(K.abort)},Yw=function(K,$,w,X){X=e4(X);var Y=!1;K.on("close",function(){Y=!0}),Kw(K,{readable:$,writable:w},function(Q){if(Q)return X(Q);Y=!0,X()});var G=!1;return function(Q){if(Y)return;if(G)return;if(G=!0,ww(K))return K.close(Z0);if(Xw(K))return K.abort();if(P0(K.destroy))return K.destroy();X(Q||new Error("stream was destroyed"))}},DK=function(K){K()},Gw=function(K,$){return K.pipe($)},Qw=function(){var K=Array.prototype.slice.call(arguments),$=P0(K[K.length-1]||Z0)&&K.pop()||Z0;if(Array.isArray(K[0]))K=K[0];if(K.length<2)throw new Error("pump requires two streams per minimum");var w,X=K.map(function(Y,G){var Q=G<K.length-1,Z=G>0;return Yw(Y,Q,Z,function(M){if(!w)w=M;if(M)X.forEach(DK);if(Q)return;X.forEach(DK),$(w)})});return K.reduce(Gw)};fK.exports=Qw});var hK=h((U8,UK)=>{var{PassThrough:Vw}=P("stream");UK.exports=(K)=>{K={...K};const{array:$}=K;let{encoding:w}=K;const X=w==="buffer";let Y=!1;if($)Y=!(w||X);else w=w||"utf8";if(X)w=null;const G=new Vw({objectMode:Y});if(w)G.setEncoding(w);let Q=0;const Z=[];return G.on("data",(M)=>{if(Z.push(M),Y)Q=Z.length;else Q+=M.length}),G.getBufferedValue=()=>{if($)return Z;return X?Buffer.concat(Z,Q):Z.join("")},G.getBufferedLength=()=>Q,G}});var PK=h((h8,r)=>{async function z0(K,$){if(!K)return Promise.reject(new Error("Expected a stream"));$={maxBuffer:1/0,...$};const{maxBuffer:w}=$;let X;return await new Promise((Y,G)=>{const Q=(Z)=>{if(Z&&X.getBufferedLength()<=Zw.MAX_LENGTH)Z.bufferedData=X.getBufferedValue();G(Z)};X=Mw(K,Lw($),(Z)=>{if(Z){Q(Z);return}Y()}),X.on("data",()=>{if(X.getBufferedLength()>w)Q(new K1)})}),X.getBufferedValue()}var{constants:Zw}=P("buffer"),Mw=FK(),Lw=hK();class K1 extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}}r.exports=z0;r.exports.default=z0;r.exports.buffer=(K,$)=>z0(K,{...$,encoding:"buffer"});r.exports.array=(K,$)=>z0(K,{...$,array:!0});r.exports.MaxBufferError=K1});var AK=h((P8,zK)=>{function a(K){const $=parseInt(K,10);return isFinite($)?$:0}function Dw(K){if(!K)return!0;return Iw.has(K.status)}function $1(K){const $={};if(!K)return $;const w=K.trim().split(/,/);for(let X of w){const[Y,G]=X.split(/=/,2);$[Y.trim()]=G===void 0?!0:G.trim().replace(/^"|"$/g,"")}return $}function fw(K){let $=[];for(let w in K){const X=K[w];$.push(X===!0?w:w+"="+X)}if(!$.length)return;return $.join(", ")}var Jw=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),Ww=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),Iw=new Set([500,502,503,504]),Bw={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},Nw={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};zK.exports=class K{constructor($,w,{shared:X,cacheHeuristic:Y,immutableMinTimeToLive:G,ignoreCargoCult:Q,_fromObject:Z}={}){if(Z){this._fromObject(Z);return}if(!w||!w.headers)throw Error("Response headers missing");if(this._assertRequestHasHeaders($),this._responseTime=this.now(),this._isShared=X!==!1,this._cacheHeuristic=Y!==void 0?Y:0.1,this._immutableMinTtl=G!==void 0?G:86400000,this._status="status"in w?w.status:200,this._resHeaders=w.headers,this._rescc=$1(w.headers["cache-control"]),this._method="method"in $?$.method:"GET",this._url=$.url,this._host=$.headers.host,this._noAuthorization=!$.headers.authorization,this._reqHeaders=w.headers.vary?$.headers:null,this._reqcc=$1($.headers["cache-control"]),Q&&"pre-check"in this._rescc&&"post-check"in this._rescc)delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":fw(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma;if(w.headers["cache-control"]==null&&/no-cache/.test(w.headers.pragma))this._rescc["no-cache"]=!0}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&Ww.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||Jw.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders($){if(!$||!$.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation($){this._assertRequestHasHeaders($);const w=$1($.headers["cache-control"]);if(w["no-cache"]||/no-cache/.test($.headers.pragma))return!1;if(w["max-age"]&&this.age()>w["max-age"])return!1;if(w["min-fresh"]&&this.timeToLive()<1000*w["min-fresh"])return!1;if(this.stale()){if(!(w["max-stale"]&&!this._rescc["must-revalidate"]&&(w["max-stale"]===!0||w["max-stale"]>this.age()-this.maxAge())))return!1}return this._requestMatches($,!1)}_requestMatches($,w){return(!this._url||this._url===$.url)&&this._host===$.headers.host&&(!$.method||this._method===$.method||w&&$.method==="HEAD")&&this._varyMatches($)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches($){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;const w=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let X of w)if($.headers[X]!==this._reqHeaders[X])return!1;return!0}_copyWithoutHopByHopHeaders($){const w={};for(let X in $){if(Bw[X])continue;w[X]=$[X]}if($.connection){const X=$.connection.trim().split(/\s*,\s*/);for(let Y of X)delete w[Y]}if(w.warning){const X=w.warning.split(/,/).filter((Y)=>{return!/^\s*1[0-9][0-9]/.test(Y)});if(!X.length)delete w.warning;else w.warning=X.join(",").trim()}return w}responseHeaders(){const $=this._copyWithoutHopByHopHeaders(this._resHeaders),w=this.age();if(w>86400&&!this._hasExplicitExpiration()&&this.maxAge()>86400)$.warning=($.warning?`${$.warning}, `:"")+'113 - "rfc7234 5.5.4"';return $.age=`${Math.round(w)}`,$.date=new Date(this.now()).toUTCString(),$}date(){const $=Date.parse(this._resHeaders.date);if(isFinite($))return $;return this._responseTime}age(){let $=this._ageValue();const w=(this.now()-this._responseTime)/1000;return $+w}_ageValue(){return a(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"])return 0;if(this._isShared&&(this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable))return 0;if(this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return a(this._rescc["s-maxage"])}if(this._rescc["max-age"])return a(this._rescc["max-age"]);const $=this._rescc.immutable?this._immutableMinTtl:0,w=this.date();if(this._resHeaders.expires){const X=Date.parse(this._resHeaders.expires);if(Number.isNaN(X)||X<w)return 0;return Math.max($,(X-w)/1000)}if(this._resHeaders["last-modified"]){const X=Date.parse(this._resHeaders["last-modified"]);if(isFinite(X)&&w>X)return Math.max($,(w-X)/1000*this._cacheHeuristic)}return $}timeToLive(){const $=this.maxAge()-this.age(),w=$+a(this._rescc["stale-if-error"]),X=$+a(this._rescc["stale-while-revalidate"]);return Math.max(0,$,w,X)*1000}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+a(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+a(this._rescc["stale-while-revalidate"])>this.age()}static fromObject($){return new this(void 0,void 0,{_fromObject:$})}_fromObject($){if(this._responseTime)throw Error("Reinitialized");if(!$||$.v!==1)throw Error("Invalid serialization");this._responseTime=$.t,this._isShared=$.sh,this._cacheHeuristic=$.ch,this._immutableMinTtl=$.imm!==void 0?$.imm:86400000,this._status=$.st,this._resHeaders=$.resh,this._rescc=$.rescc,this._method=$.m,this._url=$.u,this._host=$.h,this._noAuthorization=$.a,this._reqHeaders=$.reqh,this._reqcc=$.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders($){this._assertRequestHasHeaders($);const w=this._copyWithoutHopByHopHeaders($.headers);if(delete w["if-range"],!this._requestMatches($,!0)||!this.storable())return delete w["if-none-match"],delete w["if-modified-since"],w;if(this._resHeaders.etag)w["if-none-match"]=w["if-none-match"]?`${w["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag;if(w["accept-ranges"]||w["if-match"]||w["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete w["if-modified-since"],w["if-none-match"]){const Y=w["if-none-match"].split(/,/).filter((G)=>{return!/^\s*W\//.test(G)});if(!Y.length)delete w["if-none-match"];else w["if-none-match"]=Y.join(",").trim()}}else if(this._resHeaders["last-modified"]&&!w["if-modified-since"])w["if-modified-since"]=this._resHeaders["last-modified"];return w}revalidatedPolicy($,w){if(this._assertRequestHasHeaders($),this._useStaleIfError()&&Dw(w))return{modified:!1,matches:!1,policy:this};if(!w||!w.headers)throw Error("Response headers missing");let X=!1;if(w.status!==void 0&&w.status!=304)X=!1;else if(w.headers.etag&&!/^\s*W\//.test(w.headers.etag))X=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===w.headers.etag;else if(this._resHeaders.etag&&w.headers.etag)X=this._resHeaders.etag.replace(/^\s*W\//,"")===w.headers.etag.replace(/^\s*W\//,"");else if(this._resHeaders["last-modified"])X=this._resHeaders["last-modified"]===w.headers["last-modified"];else if(!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!w.headers.etag&&!w.headers["last-modified"])X=!0;if(!X)return{policy:new this.constructor($,w),modified:w.status!=304,matches:!1};const Y={};for(let Q in this._resHeaders)Y[Q]=Q in w.headers&&!Nw[Q]?w.headers[Q]:this._resHeaders[Q];const G=Object.assign({},w,{status:this._status,method:this._method,headers:Y});return{policy:new this.constructor($,G,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var A0=h((z8,HK)=>{HK.exports=(K)=>{const $={};for(let[w,X]of Object.entries(K))$[w.toLowerCase()]=X;return $}});var EK=h((A8,xK)=>{var Fw=P("stream").Readable,Uw=A0();class jK extends Fw{constructor(K,$,w,X){if(typeof K!=="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof $!=="object")throw new TypeError("Argument `headers` should be an object");if(!(w instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof X!=="string")throw new TypeError("Argument `url` should be a string");super();this.statusCode=K,this.headers=Uw($),this.body=w,this.url=X}_read(){this.push(this.body),this.push(null)}}xK.exports=jK});var SK=h((H8,CK)=>{var hw=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];CK.exports=(K,$)=>{const w=new Set(Object.keys(K).concat(hw));for(let X of w){if(X in $)continue;$[X]=typeof K[X]==="function"?K[X].bind(K):K[X]}}});var OK=h((j8,RK)=>{var Pw=P("stream").PassThrough,zw=SK(),Aw=(K)=>{if(!(K&&K.pipe))throw new TypeError("Parameter `response` must be a response stream.");const $=new Pw;return zw(K,$),K.pipe($)};RK.exports=Aw});var TK=h((Hw)=>{Hw.stringify=function K($){if(typeof $=="undefined")return $;if($&&Buffer.isBuffer($))return JSON.stringify(":base64:"+$.toString("base64"));if($&&$.toJSON)$=$.toJSON();if($&&typeof $==="object"){var w="",X=Array.isArray($);w=X?"[":"{";var Y=!0;for(var G in $){var Q=typeof $[G]=="function"||!X&&typeof $[G]==="undefined";if(Object.hasOwnProperty.call($,G)&&!Q){if(!Y)w+=",";if(Y=!1,X)if($[G]==null)w+="null";else w+=K($[G]);else if($[G]!==void 0)w+=K(G)+":"+K($[G])}}return w+=X?"]":"}",w}else if(typeof $==="string")return JSON.stringify(/^:/.test($)?":"+$:$);else if(typeof $==="undefined")return"null";else return JSON.stringify($)};Hw.parse=function(K){return JSON.parse(K,function($,w){if(typeof w==="string")if(/^:base64:/.test(w))return Buffer.from(w.substring(8),"base64");else return/^:/.test(w)?w.substring(1):w;return w})}});var kK=h((E8,_K)=>{var Ew=P("events"),yK=TK(),Cw=(K)=>{const $={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(K.adapter||K.uri){const w=K.adapter||/^[^:+]*/.exec(K.uri)[0];return new(P($[w]))(K)}return new Map},bK=["sqlite","postgres","mysql","mongo","redis","tiered"];class qK extends Ew{constructor(K,{emitErrors:$=!0,...w}={}){super();if(this.opts={namespace:"keyv",serialize:yK.stringify,deserialize:yK.parse,...typeof K==="string"?{uri:K}:K,...w},!this.opts.store){const Y={...this.opts};this.opts.store=Cw(Y)}if(this.opts.compression){const Y=this.opts.compression;this.opts.serialize=Y.serialize.bind(Y),this.opts.deserialize=Y.deserialize.bind(Y)}if(typeof this.opts.store.on==="function"&&$)this.opts.store.on("error",(Y)=>this.emit("error",Y));this.opts.store.namespace=this.opts.namespace;const X=(Y)=>async function*(){for await(let[G,Q]of typeof Y==="function"?Y(this.opts.store.namespace):Y){const Z=await this.opts.deserialize(Q);if(this.opts.store.namespace&&!G.includes(this.opts.store.namespace))continue;if(typeof Z.expires==="number"&&Date.now()>Z.expires){this.delete(G);continue}yield[this._getKeyUnprefix(G),Z.value]}};if(typeof this.opts.store[Symbol.iterator]==="function"&&this.opts.store instanceof Map)this.iterator=X(this.opts.store);else if(typeof this.opts.store.iterator==="function"&&this.opts.store.opts&&this._checkIterableAdaptar())this.iterator=X(this.opts.store.iterator.bind(this.opts.store))}_checkIterableAdaptar(){return bK.includes(this.opts.store.opts.dialect)||bK.findIndex((K)=>this.opts.store.opts.url.includes(K))>=0}_getKeyPrefix(K){return`${this.opts.namespace}:${K}`}_getKeyPrefixArray(K){return K.map(($)=>`${this.opts.namespace}:${$}`)}_getKeyUnprefix(K){return K.split(":").splice(1).join(":")}get(K,$){const{store:w}=this.opts,X=Array.isArray(K),Y=X?this._getKeyPrefixArray(K):this._getKeyPrefix(K);if(X&&w.getMany===void 0){const G=[];for(let Q of Y)G.push(Promise.resolve().then(()=>w.get(Q)).then((Z)=>typeof Z==="string"?this.opts.deserialize(Z):this.opts.compression?this.opts.deserialize(Z):Z).then((Z)=>{if(Z===void 0||Z===null)return;if(typeof Z.expires==="number"&&Date.now()>Z.expires)return this.delete(Q).then(()=>{return});return $&&$.raw?Z:Z.value}));return Promise.allSettled(G).then((Q)=>{const Z=[];for(let M of Q)Z.push(M.value);return Z})}return Promise.resolve().then(()=>X?w.getMany(Y):w.get(Y)).then((G)=>typeof G==="string"?this.opts.deserialize(G):this.opts.compression?this.opts.deserialize(G):G).then((G)=>{if(G===void 0||G===null)return;if(X)return G.map((Q,Z)=>{if(typeof Q==="string")Q=this.opts.deserialize(Q);if(Q===void 0||Q===null)return;if(typeof Q.expires==="number"&&Date.now()>Q.expires){this.delete(K[Z]).then(()=>{return});return}return $&&$.raw?Q:Q.value});if(typeof G.expires==="number"&&Date.now()>G.expires)return this.delete(K).then(()=>{return});return $&&$.raw?G:G.value})}set(K,$,w){const X=this._getKeyPrefix(K);if(typeof w==="undefined")w=this.opts.ttl;if(w===0)w=void 0;const{store:Y}=this.opts;return Promise.resolve().then(()=>{const G=typeof w==="number"?Date.now()+w:null;if(typeof $==="symbol")this.emit("error","symbol cannot be serialized");return $={value:$,expires:G},this.opts.serialize($)}).then((G)=>Y.set(X,G,w)).then(()=>!0)}delete(K){const{store:$}=this.opts;if(Array.isArray(K)){const X=this._getKeyPrefixArray(K);if($.deleteMany===void 0){const Y=[];for(let G of X)Y.push($.delete(G));return Promise.allSettled(Y).then((G)=>G.every((Q)=>Q.value===!0))}return Promise.resolve().then(()=>$.deleteMany(X))}const w=this._getKeyPrefix(K);return Promise.resolve().then(()=>$.delete(w))}clear(){const{store:K}=this.opts;return Promise.resolve().then(()=>K.clear())}has(K){const $=this._getKeyPrefix(K),{store:w}=this.opts;return Promise.resolve().then(async()=>{if(typeof w.has==="function")return w.has($);return await w.get($)!==void 0})}disconnect(){const{store:K}=this.opts;if(typeof K.disconnect==="function")return K.disconnect()}}_K.exports=qK});var dK=h((S8,cK)=>{function qw(K){const $={...K};return $.path=`${K.pathname||"/"}${K.search||""}`,delete $.pathname,delete $.search,$}function X1(K){return{protocol:K.protocol,auth:K.auth,hostname:K.hostname||K.host||"localhost",port:K.port,pathname:K.pathname,search:K.search}}var Sw=P("events"),H0=P("url"),Rw=VK(),Ow=PK(),w1=AK(),gK=EK(),Tw=A0(),yw=OK(),bw=kK();class c{constructor(K,$){if(typeof K!=="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new bw({uri:typeof $==="string"&&$,store:typeof $!=="string"&&$,namespace:"cacheable-request"}),this.createCacheableRequest(K)}createCacheableRequest(K){return($,w)=>{let X;if(typeof $==="string")X=X1(H0.parse($)),$={};else if($ instanceof H0.URL)X=X1(H0.parse($.toString())),$={};else{const[B,...L]=($.path||"").split("?"),I=L.length>0?`?${L.join("?")}`:"";X=X1({...$,pathname:B,search:I})}$={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...$,...qw(X)},$.headers=Tw($.headers);const Y=new Sw,G=Rw(H0.format(X),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),Q=`${$.method}:${G}`;let Z=!1,M=!1;const F=(B)=>{M=!0;let L=!1,I;const U=new Promise((W)=>{I=()=>{if(!L)L=!0,W()}}),N=(W)=>{if(Z&&!B.forceRefresh){W.status=W.statusCode;const z=w1.fromObject(Z.cachePolicy).revalidatedPolicy(B,W);if(!z.modified){const j=z.policy.responseHeaders();W=new gK(Z.statusCode,j,Z.body,Z.url),W.cachePolicy=z.policy,W.fromCache=!0}}if(!W.fromCache)W.cachePolicy=new w1(B,W,B),W.fromCache=!1;let f;if(B.cache&&W.cachePolicy.storable())f=yw(W),(async()=>{try{const z=Ow.buffer(W);if(await Promise.race([U,new Promise((G0)=>W.once("end",G0))]),L)return;const j=await z,b={cachePolicy:W.cachePolicy.toObject(),url:W.url,statusCode:W.fromCache?Z.statusCode:W.statusCode,body:j};let R=B.strictTtl?W.cachePolicy.timeToLive():void 0;if(B.maxTtl)R=R?Math.min(R,B.maxTtl):B.maxTtl;await this.cache.set(Q,b,R)}catch(z){Y.emit("error",new c.CacheError(z))}})();else if(B.cache&&Z)(async()=>{try{await this.cache.delete(Q)}catch(z){Y.emit("error",new c.CacheError(z))}})();if(Y.emit("response",f||W),typeof w==="function")w(f||W)};try{const W=K(B,N);W.once("error",I),W.once("abort",I),Y.emit("request",W)}catch(W){Y.emit("error",new c.RequestError(W))}};return(async()=>{const B=async(I)=>{await Promise.resolve();const U=I.cache?await this.cache.get(Q):void 0;if(typeof U==="undefined")return F(I);const N=w1.fromObject(U.cachePolicy);if(N.satisfiesWithoutRevalidation(I)&&!I.forceRefresh){const W=N.responseHeaders(),f=new gK(U.statusCode,W,U.body,U.url);if(f.cachePolicy=N,f.fromCache=!0,Y.emit("response",f),typeof w==="function")w(f)}else Z=U,I.headers=N.revalidationHeaders(I),F(I)},L=(I)=>Y.emit("error",new c.CacheError(I));this.cache.once("error",L),Y.on("response",()=>this.cache.removeListener("error",L));try{await B($)}catch(I){if($.automaticFailover&&!M)F($);Y.emit("error",new c.CacheError(I))}})(),Y}}}c.RequestError=class extends Error{constructor(K){super(K.message);this.name="RequestError",Object.assign(this,K)}};c.CacheError=class extends Error{constructor(K){super(K.message);this.name="CacheError",Object.assign(this,K)}};cK.exports=c});var mK=h((T8,vK)=>{var _w=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];vK.exports=(K,$)=>{if($._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");const w=new Set(Object.keys(K).concat(_w)),X={};for(let Y of w){if(Y in $)continue;X[Y]={get(){const G=K[Y];return typeof G==="function"?G.bind(K):G},set(G){K[Y]=G},enumerable:!0,configurable:!1}}return Object.defineProperties($,X),K.once("aborted",()=>{$.destroy(),$.emit("aborted")}),K.once("close",()=>{if(K.complete)if($.readable)$.once("end",()=>{$.emit("close")});else $.emit("close");else $.emit("close")}),$}});var lK=h((y8,uK)=>{var{Transform:kw,PassThrough:gw}=P("stream"),Y1=P("zlib"),cw=mK();uK.exports=(K)=>{const $=(K.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes($))return K;const w=$==="br";if(w&&typeof Y1.createBrotliDecompress!=="function")return K.destroy(new Error("Brotli is not supported on Node.js < 12")),K;let X=!0;const Y=new kw({transform(Z,M,F){X=!1,F(null,Z)},flush(Z){Z()}}),G=new gw({autoDestroy:!1,destroy(Z,M){K.destroy(),M(Z)}}),Q=w?Y1.createBrotliDecompress():Y1.createUnzip();return Q.once("error",(Z)=>{if(X&&!K.readable){G.end();return}G.destroy(Z)}),cw(K,G),K.pipe(Y).pipe(Q).pipe(G),G}});var G1=h((b8,iK)=>{class pK{constructor(K={}){if(!(K.maxSize&&K.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=K.maxSize,this.onEviction=K.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(K,$){if(this.cache.set(K,$),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction==="function")for(let[w,X]of this.oldCache.entries())this.onEviction(w,X);this.oldCache=this.cache,this.cache=new Map}}get(K){if(this.cache.has(K))return this.cache.get(K);if(this.oldCache.has(K)){const $=this.oldCache.get(K);return this.oldCache.delete(K),this._set(K,$),$}}set(K,$){if(this.cache.has(K))this.cache.set(K,$);else this._set(K,$);return this}has(K){return this.cache.has(K)||this.oldCache.has(K)}peek(K){if(this.cache.has(K))return this.cache.get(K);if(this.oldCache.has(K))return this.oldCache.get(K)}delete(K){const $=this.cache.delete(K);if($)this._size--;return this.oldCache.delete(K)||$}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[K]of this)yield K}*values(){for(let[,K]of this)yield K}*[Symbol.iterator](){for(let K of this.cache)yield K;for(let K of this.oldCache){const[$]=K;if(!this.cache.has($))yield K}}get size(){let K=0;for(let $ of this.oldCache.keys())if(!this.cache.has($))K++;return Math.min(this._size+K,this.maxSize)}}iK.exports=pK});var V1=h((q8,rK)=>{var dw=P("events"),vw=P("tls"),mw=P("http2"),uw=G1(),S=Symbol("currentStreamsCount"),aK=Symbol("request"),O=Symbol("cachedOriginSet"),s=Symbol("gracefullyClosing"),lw=["maxDeflateDynamicTableSize","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","localAddress","path","rejectUnauthorized","minDHSize","ca","cert","clientCertEngine","ciphers","key","pfx","servername","minVersion","maxVersion","secureProtocol","crl","honorCipherOrder","ecdhCurve","dhparam","secureOptions","sessionIdContext"],pw=(K,$,w)=>{let X=0,Y=K.length;while(X<Y){const G=X+Y>>>1;if(w(K[G],$))X=G+1;else Y=G}return X},iw=(K,$)=>{return K.remoteSettings.maxConcurrentStreams>$.remoteSettings.maxConcurrentStreams},Q1=(K,$)=>{for(let w of K)if(w[O].length<$[O].length&&w[O].every((X)=>$[O].includes(X))&&w[S]+$[S]<=$.remoteSettings.maxConcurrentStreams)tK(w)},aw=(K,$)=>{for(let w of K)if($[O].length<w[O].length&&$[O].every((X)=>w[O].includes(X))&&$[S]+w[S]<=w.remoteSettings.maxConcurrentStreams)tK($)},nK=({agent:K,isFree:$})=>{const w={};for(let X in K.sessions){const G=K.sessions[X].filter((Q)=>{const Z=Q[m.kCurrentStreamsCount]<Q.remoteSettings.maxConcurrentStreams;return $?Z:!Z});if(G.length!==0)w[X]=G}return w},tK=(K)=>{if(K[s]=!0,K[S]===0)K.close()};class m extends dw{constructor({timeout:K=60000,maxSessions:$=1/0,maxFreeSessions:w=10,maxCachedTlsSessions:X=100}={}){super();this.sessions={},this.queue={},this.timeout=K,this.maxSessions=$,this.maxFreeSessions=w,this._freeSessionsCount=0,this._sessionsCount=0,this.settings={enablePush:!1},this.tlsSessionCache=new uw({maxSize:X})}static normalizeOrigin(K,$){if(typeof K==="string")K=new URL(K);if($&&K.hostname!==$)K.hostname=$;return K.origin}normalizeOptions(K){let $="";if(K){for(let w of lw)if(K[w])$+=`:${K[w]}`}return $}_tryToCreateNewSession(K,$){if(!(K in this.queue)||!($ in this.queue[K]))return;const w=this.queue[K][$];if(this._sessionsCount<this.maxSessions&&!w.completed)w.completed=!0,w()}getSession(K,$,w){return new Promise((X,Y)=>{if(Array.isArray(w))w=[...w],X();else w=[{resolve:X,reject:Y}];const G=this.normalizeOptions($),Q=m.normalizeOrigin(K,$&&$.servername);if(Q===void 0){for(let{reject:F}of w)F(new TypeError("The `origin` argument needs to be a string or an URL object"));return}if(G in this.sessions){const F=this.sessions[G];let B=-1,L=-1,I;for(let U of F){const N=U.remoteSettings.maxConcurrentStreams;if(N<B)break;if(U[O].includes(Q)){const W=U[S];if(W>=N||U[s]||U.destroyed)continue;if(!I)B=N;if(W>L)I=U,L=W}}if(I){if(w.length!==1){for(let{reject:U}of w){const N=new Error(`Expected the length of listeners to be 1, got ${w.length}.\nPlease report this to https://github.com/szmarczak/http2-wrapper/`);U(N)}return}w[0].resolve(I);return}}if(G in this.queue){if(Q in this.queue[G]){this.queue[G][Q].listeners.push(...w),this._tryToCreateNewSession(G,Q);return}}else this.queue[G]={};const Z=()=>{if(G in this.queue&&this.queue[G][Q]===M){if(delete this.queue[G][Q],Object.keys(this.queue[G]).length===0)delete this.queue[G]}},M=()=>{const F=`${Q}:${G}`;let B=!1;try{const L=mw.connect(K,{createConnection:this.createConnection,settings:this.settings,session:this.tlsSessionCache.get(F),...$});L[S]=0,L[s]=!1;const I=()=>L[S]<L.remoteSettings.maxConcurrentStreams;let U=!0;L.socket.once("session",(W)=>{this.tlsSessionCache.set(F,W)}),L.once("error",(W)=>{for(let{reject:f}of w)f(W);this.tlsSessionCache.delete(F)}),L.setTimeout(this.timeout,()=>{L.destroy()}),L.once("close",()=>{if(B){if(U)this._freeSessionsCount--;this._sessionsCount--;const W=this.sessions[G];if(W.splice(W.indexOf(L),1),W.length===0)delete this.sessions[G]}else{const W=new Error("Session closed without receiving a SETTINGS frame");W.code="HTTP2WRAPPER_NOSETTINGS";for(let{reject:f}of w)f(W);Z()}this._tryToCreateNewSession(G,Q)});const N=()=>{if(!(G in this.queue)||!I())return;for(let W of L[O])if(W in this.queue[G]){const{listeners:f}=this.queue[G][W];while(f.length!==0&&I())f.shift().resolve(L);const z=this.queue[G];if(z[W].listeners.length===0){if(delete z[W],Object.keys(z).length===0){delete this.queue[G];break}}if(!I())break}};L.on("origin",()=>{if(L[O]=L.originSet,!I())return;N(),Q1(this.sessions[G],L)}),L.once("remoteSettings",()=>{if(L.ref(),L.unref(),this._sessionsCount++,M.destroyed){const W=new Error("Agent has been destroyed");for(let f of w)f.reject(W);L.destroy();return}L[O]=L.originSet;{const W=this.sessions;if(G in W){const f=W[G];f.splice(pw(f,L,iw),0,L)}else W[G]=[L]}if(this._freeSessionsCount+=1,B=!0,this.emit("session",L),N(),Z(),L[S]===0&&this._freeSessionsCount>this.maxFreeSessions)L.close();if(w.length!==0)this.getSession(Q,$,w),w.length=0;L.on("remoteSettings",()=>{N(),Q1(this.sessions[G],L)})}),L[aK]=L.request,L.request=(W,f)=>{if(L[s])throw new Error("The session is gracefully closing. No new streams are allowed.");const z=L[aK](W,f);if(L.ref(),++L[S],L[S]===L.remoteSettings.maxConcurrentStreams)this._freeSessionsCount--;return z.once("close",()=>{if(U=I(),--L[S],!L.destroyed&&!L.closed){if(aw(this.sessions[G],L),I()&&!L.closed){if(!U)this._freeSessionsCount++,U=!0;const j=L[S]===0;if(j)L.unref();if(j&&(this._freeSessionsCount>this.maxFreeSessions||L[s]))L.close();else Q1(this.sessions[G],L),N()}}}),z}}catch(L){for(let I of w)I.reject(L);Z()}};M.listeners=w,M.completed=!1,M.destroyed=!1,this.queue[G][Q]=M,this._tryToCreateNewSession(G,Q)})}request(K,$,w,X){return new Promise((Y,G)=>{this.getSession(K,$,[{reject:G,resolve:(Q)=>{try{Y(Q.request(w,X))}catch(Z){G(Z)}}}])})}createConnection(K,$){return m.connect(K,$)}static connect(K,$){$.ALPNProtocols=["h2"];const w=K.port||443,X=K.hostname||K.host;if(typeof $.servername==="undefined")$.servername=X;return vw.connect(w,X,$)}closeFreeSessions(){for(let K of Object.values(this.sessions))for(let $ of K)if($[S]===0)$.close()}destroy(K){for(let $ of Object.values(this.sessions))for(let w of $)w.destroy(K);for(let $ of Object.values(this.queue))for(let w of Object.values($))w.destroyed=!0;this.queue={}}get freeSessions(){return nK({agent:this,isFree:!0})}get busySessions(){return nK({agent:this,isFree:!1})}}m.kCurrentStreamsCount=S;m.kGracefullyClosing=s;rK.exports={Agent:m,globalAgent:new m}});var Z1=h((_8,oK)=>{var{Readable:nw}=P("stream");class sK extends nw{constructor(K,$){super({highWaterMark:$,autoDestroy:!1});this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=K,this.connection=K,this._dumped=!1}_destroy(K){this.req._request.destroy(K)}setTimeout(K,$){return this.req.setTimeout(K,$),this}_dump(){if(!this._dumped)this._dumped=!0,this.removeAllListeners("data"),this.resume()}_read(){if(this.req)this.req._request.resume()}}oK.exports=sK});var M1=h((k8,eK)=>{eK.exports=(K)=>{const $={protocol:K.protocol,hostname:typeof K.hostname==="string"&&K.hostname.startsWith("[")?K.hostname.slice(1,-1):K.hostname,host:K.host,hash:K.hash,search:K.search,pathname:K.pathname,href:K.href,path:`${K.pathname||""}${K.search||""}`};if(typeof K.port==="string"&&K.port.length!==0)$.port=Number(K.port);if(K.username||K.password)$.auth=`${K.username||""}:${K.password||""}`;return $}});var $$=h((g8,K$)=>{K$.exports=(K,$,w)=>{for(let X of w)K.on(X,(...Y)=>$.emit(X,...Y))}});var X$=h((c8,w$)=>{w$.exports=(K)=>{switch(K){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var G$=h((d8,Y$)=>{var o=(K,$,w)=>{d8[$]=class X extends K{constructor(...Y){super(typeof w==="string"?w:w(Y));this.name=`${super.name} [${$}]`,this.code=$}}};o(TypeError,"ERR_INVALID_ARG_TYPE",(K)=>{const $=K[0].includes(".")?"property":"argument";let w=K[1];const X=Array.isArray(w);if(X)w=`${w.slice(0,-1).join(", ")} or ${w.slice(-1)}`;return`The "${K[0]}" ${$} must be ${X?"one of":"of"} type ${w}. Received ${typeof K[2]}`});o(TypeError,"ERR_INVALID_PROTOCOL",(K)=>{return`Protocol "${K[0]}" not supported. Expected "${K[1]}"`});o(Error,"ERR_HTTP_HEADERS_SENT",(K)=>{return`Cannot ${K[0]} headers after they are sent to the client`});o(TypeError,"ERR_INVALID_HTTP_TOKEN",(K)=>{return`${K[0]} must be a valid HTTP token [${K[1]}]`});o(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",(K)=>{return`Invalid value "${K[0]} for header "${K[1]}"`});o(TypeError,"ERR_INVALID_CHAR",(K)=>{return`Invalid character in ${K[0]} [${K[1]}]`})});var I1=h((v8,I$)=>{var tw=P("http2"),{Writable:rw}=P("stream"),{Agent:Q$,globalAgent:sw}=V1(),ow=Z1(),ew=M1(),KX=$$(),$X=X$(),{ERR_INVALID_ARG_TYPE:L1,ERR_INVALID_PROTOCOL:wX,ERR_HTTP_HEADERS_SENT:V$,ERR_INVALID_HTTP_TOKEN:XX,ERR_HTTP_INVALID_HEADER_VALUE:YX,ERR_INVALID_CHAR:GX}=G$(),{HTTP2_HEADER_STATUS:Z$,HTTP2_HEADER_METHOD:M$,HTTP2_HEADER_PATH:L$,HTTP2_METHOD_CONNECT:QX}=tw.constants,C=Symbol("headers"),J1=Symbol("origin"),W1=Symbol("session"),J$=Symbol("options"),j0=Symbol("flushedHeaders"),M0=Symbol("jobs"),VX=/^[\^`\-\w!#$%&*+.|~]+$/,ZX=/[^\t\u0020-\u007E\u0080-\u00FF]/;class W$ extends rw{constructor(K,$,w){super({autoDestroy:!1});const X=typeof K==="string"||K instanceof URL;if(X)K=ew(K instanceof URL?K:new URL(K));if(typeof $==="function"||$===void 0)w=$,$=X?K:{...K};else $={...K,...$};if($.h2session)this[W1]=$.h2session;else if($.agent===!1)this.agent=new Q$({maxFreeSessions:0});else if(typeof $.agent==="undefined"||$.agent===null)if(typeof $.createConnection==="function")this.agent=new Q$({maxFreeSessions:0}),this.agent.createConnection=$.createConnection;else this.agent=sw;else if(typeof $.agent.request==="function")this.agent=$.agent;else throw new L1("options.agent",["Agent-like Object","undefined","false"],$.agent);if($.protocol&&$.protocol!=="https:")throw new wX($.protocol,"https:");const Y=$.port||$.defaultPort||this.agent&&this.agent.defaultPort||443,G=$.hostname||$.host||"localhost";delete $.hostname,delete $.host,delete $.port;const{timeout:Q}=$;if($.timeout=void 0,this[C]=Object.create(null),this[M0]=[],this.socket=null,this.connection=null,this.method=$.method||"GET",this.path=$.path,this.res=null,this.aborted=!1,this.reusedSocket=!1,$.headers)for(let[Z,M]of Object.entries($.headers))this.setHeader(Z,M);if($.auth&&!("authorization"in this[C]))this[C].authorization="Basic "+Buffer.from($.auth).toString("base64");if($.session=$.tlsSession,$.path=$.socketPath,this[J$]=$,Y===443){if(this[J1]=`https://${G}`,!(":authority"in this[C]))this[C][":authority"]=G}else if(this[J1]=`https://${G}:${Y}`,!(":authority"in this[C]))this[C][":authority"]=`${G}:${Y}`;if(Q)this.setTimeout(Q);if(w)this.once("response",w);this[j0]=!1}get method(){return this[C][M$]}set method(K){if(K)this[C][M$]=K.toUpperCase()}get path(){return this[C][L$]}set path(K){if(K)this[C][L$]=K}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(K,$,w){if(this._mustNotHaveABody){w(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();const X=()=>this._request.write(K,$,w);if(this._request)X();else this[M0].push(X)}_final(K){if(this.destroyed)return;this.flushHeaders();const $=()=>{if(this._mustNotHaveABody){K();return}this._request.end(K)};if(this._request)$();else this[M0].push($)}abort(){if(this.res&&this.res.complete)return;if(!this.aborted)process.nextTick(()=>this.emit("abort"));this.aborted=!0,this.destroy()}_destroy(K,$){if(this.res)this.res._dump();if(this._request)this._request.destroy();$(K)}async flushHeaders(){if(this[j0]||this.destroyed)return;this[j0]=!0;const K=this.method===QX,$=(w)=>{if(this._request=w,this.destroyed){w.destroy();return}if(!K)KX(w,this,["timeout","continue","close","error"]);const X=(G)=>{return(...Q)=>{if(!this.writable&&!this.destroyed)G(...Q);else this.once("finish",()=>{G(...Q)})}};w.once("response",X((G,Q,Z)=>{const M=new ow(this.socket,w.readableHighWaterMark);if(this.res=M,M.req=this,M.statusCode=G[Z$],M.headers=G,M.rawHeaders=Z,M.once("end",()=>{if(this.aborted)M.aborted=!0,M.emit("aborted");else M.complete=!0,M.socket=null,M.connection=null}),K)if(M.upgrade=!0,this.emit("connect",M,w,Buffer.alloc(0)))this.emit("close");else w.destroy();else if(w.on("data",(F)=>{if(!M._dumped&&!M.push(F))w.pause()}),w.once("end",()=>{M.push(null)}),!this.emit("response",M))M._dump()})),w.once("headers",X((G)=>this.emit("information",{statusCode:G[Z$]}))),w.once("trailers",X((G,Q,Z)=>{const{res:M}=this;M.trailers=G,M.rawTrailers=Z}));const{socket:Y}=w.session;this.socket=Y,this.connection=Y;for(let G of this[M0])G();this.emit("socket",this.socket)};if(this[W1])try{$(this[W1].request(this[C]))}catch(w){this.emit("error",w)}else{this.reusedSocket=!0;try{$(await this.agent.request(this[J1],this[J$],this[C]))}catch(w){this.emit("error",w)}}}getHeader(K){if(typeof K!=="string")throw new L1("name","string",K);return this[C][K.toLowerCase()]}get headersSent(){return this[j0]}removeHeader(K){if(typeof K!=="string")throw new L1("name","string",K);if(this.headersSent)throw new V$("remove");delete this[C][K.toLowerCase()]}setHeader(K,$){if(this.headersSent)throw new V$("set");if(typeof K!=="string"||!VX.test(K)&&!$X(K))throw new XX("Header name",K);if(typeof $==="undefined")throw new YX($,K);if(ZX.test($))throw new GX("header content",K);this[C][K.toLowerCase()]=$}setNoDelay(){}setSocketKeepAlive(){}setTimeout(K,$){const w=()=>this._request.setTimeout(K,$);if(this._request)w();else this[M0].push(w);return this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize;return}set maxHeadersCount(K){}}I$.exports=W$});var N$=h((m8,B$)=>{var MX=P("tls");B$.exports=(K={},$=MX.connect)=>new Promise((w,X)=>{let Y=!1,G;const Q=async()=>{if(await M,G.off("timeout",Z),G.off("error",X),K.resolveSocket){if(w({alpnProtocol:G.alpnProtocol,socket:G,timeout:Y}),Y)await Promise.resolve(),G.emit("timeout")}else G.destroy(),w({alpnProtocol:G.alpnProtocol,timeout:Y})},Z=async()=>{Y=!0,Q()},M=(async()=>{try{G=await $(K,Q),G.on("error",X),G.once("timeout",Z)}catch(F){X(F)}})()})});var f$=h((u8,D$)=>{var LX=P("net");D$.exports=(K)=>{let $=K.host;const w=K.headers&&K.headers.host;if(w)if(w.startsWith("["))if(w.indexOf("]")===-1)$=w;else $=w.slice(1,-1);else $=w.split(":",1)[0];if(LX.isIP($))return"";return $}});var h$=h((l8,N1)=>{var F$=P("http"),B1=P("https"),JX=N$(),WX=G1(),IX=I1(),BX=f$(),NX=M1(),x0=new WX({maxSize:100}),L0=new Map,U$=(K,$,w)=>{$._httpMessage={shouldKeepAlive:!0};const X=()=>{K.emit("free",$,w)};$.on("free",X);const Y=()=>{K.removeSocket($,w)};$.on("close",Y);const G=()=>{K.removeSocket($,w),$.off("close",Y),$.off("free",X),$.off("agentRemove",G)};$.on("agentRemove",G),K.emit("free",$,w)},DX=async(K)=>{const $=`${K.host}:${K.port}:${K.ALPNProtocols.sort()}`;if(!x0.has($)){if(L0.has($))return(await L0.get($)).alpnProtocol;const{path:w,agent:X}=K;K.path=K.socketPath;const Y=JX(K);L0.set($,Y);try{const{socket:G,alpnProtocol:Q}=await Y;if(x0.set($,Q),K.path=w,Q==="h2")G.destroy();else{const{globalAgent:Z}=B1,M=B1.Agent.prototype.createConnection;if(X)if(X.createConnection===M)U$(X,G,K);else G.destroy();else if(Z.createConnection===M)U$(Z,G,K);else G.destroy()}return L0.delete($),Q}catch(G){throw L0.delete($),G}}return x0.get($)};N1.exports=async(K,$,w)=>{if(typeof K==="string"||K instanceof URL)K=NX(new URL(K));if(typeof $==="function")w=$,$=void 0;if($={ALPNProtocols:["h2","http/1.1"],...K,...$,resolveSocket:!0},!Array.isArray($.ALPNProtocols)||$.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");$.protocol=$.protocol||"https:";const X=$.protocol==="https:";$.host=$.hostname||$.host||"localhost",$.session=$.tlsSession,$.servername=$.servername||BX($),$.port=$.port||(X?443:80),$._defaultAgent=X?B1.globalAgent:F$.globalAgent;const Y=$.agent;if(Y){if(Y.addRequest)throw new Error("The `options.agent` object can contain only `http`, `https` or `http2` properties");$.agent=Y[X?"https":"http"]}if(X){if(await DX($)==="h2"){if(Y)$.agent=Y.http2;return new IX($,w)}}return F$.request($,w)};N1.exports.protocolCache=x0});var z$=h((p8,P$)=>{var fX=P("http2"),FX=V1(),D1=I1(),UX=Z1(),hX=h$(),PX=(K,$,w)=>{return new D1(K,$,w)},zX=(K,$,w)=>{const X=new D1(K,$,w);return X.end(),X};P$.exports={...fX,ClientRequest:D1,IncomingMessage:UX,...FX,request:PX,get:zX,auto:hX}});var f1=h((H$)=>{Object.defineProperty(H$,"__esModule",{value:!0});var A$=g();H$.default=(K)=>A$.default.nodeStream(K)&&A$.default.function_(K.getBoundary)});var S$=h((C$)=>{Object.defineProperty(C$,"__esModule",{value:!0});var x$=P("fs"),E$=P("util"),j$=g(),HX=f1(),jX=E$.promisify(x$.stat);C$.default=async(K,$)=>{if($&&"content-length"in $)return Number($["content-length"]);if(!K)return 0;if(j$.default.string(K))return Buffer.byteLength(K);if(j$.default.buffer(K))return K.length;if(HX.default(K))return E$.promisify(K.getLength.bind(K))();if(K instanceof x$.ReadStream){const{size:w}=await jX(K.path);if(w===0)return;return w}return}});var F1=h((R$)=>{function EX(K,$,w){const X={};for(let Y of w)X[Y]=(...G)=>{$.emit(Y,...G)},K.on(Y,X[Y]);return()=>{for(let Y of w)K.off(Y,X[Y])}}Object.defineProperty(R$,"__esModule",{value:!0});R$.default=EX});var T$=h((O$)=>{Object.defineProperty(O$,"__esModule",{value:!0});O$.default=()=>{const K=[];return{once($,w,X){$.once(w,X),K.push({origin:$,event:w,fn:X})},unhandleAll(){for(let $ of K){const{origin:w,event:X,fn:Y}=$;w.removeListener(X,Y)}K.length=0}}}});var _$=h((b$)=>{Object.defineProperty(b$,"__esModule",{value:!0});b$.TimeoutError=void 0;var RX=P("net"),OX=T$(),y$=Symbol("reentry"),TX=()=>{};class U1 extends Error{constructor(K,$){super(`Timeout awaiting '${$}' for ${K}ms`);this.event=$,this.name="TimeoutError",this.code="ETIMEDOUT"}}b$.TimeoutError=U1;b$.default=(K,$,w)=>{if(y$ in K)return TX;K[y$]=!0;const X=[],{once:Y,unhandleAll:G}=OX.default(),Q=(L,I,U)=>{var N;const W=setTimeout(I,L,L,U);(N=W.unref)===null||N===void 0||N.call(W);const f=()=>{clearTimeout(W)};return X.push(f),f},{host:Z,hostname:M}=w,F=(L,I)=>{K.destroy(new U1(L,I))},B=()=>{for(let L of X)L();G()};if(K.once("error",(L)=>{if(B(),K.listenerCount("error")===0)throw L}),K.once("close",B),Y(K,"response",(L)=>{Y(L,"end",B)}),typeof $.request!=="undefined")Q($.request,F,"request");if(typeof $.socket!=="undefined"){const L=()=>{F($.socket,"socket")};K.setTimeout($.socket,L),X.push(()=>{K.removeListener("timeout",L)})}if(Y(K,"socket",(L)=>{var I;const{socketPath:U}=K;if(L.connecting){const N=Boolean(U!==null&&U!==void 0?U:RX.isIP((I=M!==null&&M!==void 0?M:Z)!==null&&I!==void 0?I:"")!==0);if(typeof $.lookup!=="undefined"&&!N&&typeof L.address().address==="undefined"){const W=Q($.lookup,F,"lookup");Y(L,"lookup",W)}if(typeof $.connect!=="undefined"){const W=()=>Q($.connect,F,"connect");if(N)Y(L,"connect",W());else Y(L,"lookup",(f)=>{if(f===null)Y(L,"connect",W())})}if(typeof $.secureConnect!=="undefined"&&w.protocol==="https:")Y(L,"connect",()=>{const W=Q($.secureConnect,F,"secureConnect");Y(L,"secureConnect",W)})}if(typeof $.send!=="undefined"){const N=()=>Q($.send,F,"send");if(L.connecting)Y(L,"connect",()=>{Y(K,"upload-complete",N())});else Y(K,"upload-complete",N())}}),typeof $.response!=="undefined")Y(K,"upload-complete",()=>{const L=Q($.response,F,"response");Y(K,"response",L)});return B}});var c$=h((g$)=>{Object.defineProperty(g$,"__esModule",{value:!0});var k$=g();g$.default=(K)=>{K=K;const $={protocol:K.protocol,hostname:k$.default.string(K.hostname)&&K.hostname.startsWith("[")?K.hostname.slice(1,-1):K.hostname,host:K.host,hash:K.hash,search:K.search,pathname:K.pathname,href:K.href,path:`${K.pathname||""}${K.search||""}`};if(k$.default.string(K.port)&&K.port.length>0)$.port=Number(K.port);if(K.username||K.password)$.auth=`${K.username||""}:${K.password||""}`;return $}});var v$=h((d$)=>{Object.defineProperty(d$,"__esModule",{value:!0});var qX=P("url"),_X=["protocol","host","hostname","port","pathname","search"];d$.default=(K,$)=>{var w,X;if($.path){if($.pathname)throw new TypeError("Parameters `path` and `pathname` are mutually exclusive.");if($.search)throw new TypeError("Parameters `path` and `search` are mutually exclusive.");if($.searchParams)throw new TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}if($.search&&$.searchParams)throw new TypeError("Parameters `search` and `searchParams` are mutually exclusive.");if(!K){if(!$.protocol)throw new TypeError("No URL protocol specified");K=`${$.protocol}//${(X=(w=$.hostname)!==null&&w!==void 0?w:$.host)!==null&&X!==void 0?X:""}`}const Y=new qX.URL(K);if($.path){const G=$.path.indexOf("?");if(G===-1)$.pathname=$.path;else $.pathname=$.path.slice(0,G),$.search=$.path.slice(G+1);delete $.path}for(let G of _X)if($[G])Y[G]=$[G].toString();return Y}});var l$=h((u$)=>{Object.defineProperty(u$,"__esModule",{value:!0});class m${constructor(){this.weakMap=new WeakMap,this.map=new Map}set(K,$){if(typeof K==="object")this.weakMap.set(K,$);else this.map.set(K,$)}get(K){if(typeof K==="object")return this.weakMap.get(K);return this.map.get(K)}has(K){if(typeof K==="object")return this.weakMap.has(K);return this.map.has(K)}}u$.default=m$});var h1=h((p$)=>{Object.defineProperty(p$,"__esModule",{value:!0});var cX=async(K)=>{const $=[];let w=0;for await(let X of K)$.push(X),w+=Buffer.byteLength(X);if(Buffer.isBuffer($[0]))return Buffer.concat($,w);return Buffer.from($.join(""))};p$.default=cX});var r$=h((a$)=>{Object.defineProperty(a$,"__esModule",{value:!0});a$.dnsLookupIpVersionToFamily=a$.isDnsLookupIpVersion=void 0;var i$={auto:0,ipv4:4,ipv6:6};a$.isDnsLookupIpVersion=(K)=>{return K in i$};a$.dnsLookupIpVersionToFamily=(K)=>{if(a$.isDnsLookupIpVersion(K))return i$[K];throw new Error("Invalid DNS lookup IP version")}});var P1=h((s$)=>{Object.defineProperty(s$,"__esModule",{value:!0});s$.isResponseOk=void 0;s$.isResponseOk=(K)=>{const{statusCode:$}=K,w=K.request.options.followRedirect?299:399;return $>=200&&$<=w||$===304}});var $6=h((K6)=>{Object.defineProperty(K6,"__esModule",{value:!0});var e$=new Set;K6.default=(K)=>{if(e$.has(K))return;e$.add(K),process.emitWarning(`Got: ${K}`,{type:"DeprecationWarning"})}});var X6=h((w6)=>{Object.defineProperty(w6,"__esModule",{value:!0});var H=g(),mX=(K,$)=>{if(H.default.null_(K.encoding))throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");if(H.assert.any([H.default.string,H.default.undefined],K.encoding),H.assert.any([H.default.boolean,H.default.undefined],K.resolveBodyOnly),H.assert.any([H.default.boolean,H.default.undefined],K.methodRewriting),H.assert.any([H.default.boolean,H.default.undefined],K.isStream),H.assert.any([H.default.string,H.default.undefined],K.responseType),K.responseType===void 0)K.responseType="text";const{retry:w}=K;if($)K.retry={...$.retry};else K.retry={calculateDelay:(X)=>X.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:void 0};if(H.default.object(w))K.retry={...K.retry,...w},K.retry.methods=[...new Set(K.retry.methods.map((X)=>X.toUpperCase()))],K.retry.statusCodes=[...new Set(K.retry.statusCodes)],K.retry.errorCodes=[...new Set(K.retry.errorCodes)];else if(H.default.number(w))K.retry.limit=w;if(H.default.undefined(K.retry.maxRetryAfter))K.retry.maxRetryAfter=Math.min(...[K.timeout.request,K.timeout.connect].filter(H.default.number));if(H.default.object(K.pagination)){if($)K.pagination={...$.pagination,...K.pagination};const{pagination:X}=K;if(!H.default.function_(X.transform))throw new Error("`options.pagination.transform` must be implemented");if(!H.default.function_(X.shouldContinue))throw new Error("`options.pagination.shouldContinue` must be implemented");if(!H.default.function_(X.filter))throw new TypeError("`options.pagination.filter` must be implemented");if(!H.default.function_(X.paginate))throw new Error("`options.pagination.paginate` must be implemented")}if(K.responseType==="json"&&K.headers.accept===void 0)K.headers.accept="application/json";return K};w6.default=mX});var Q6=h((Y6)=>{Object.defineProperty(Y6,"__esModule",{value:!0});Y6.retryAfterStatusCodes=void 0;Y6.retryAfterStatusCodes=new Set([413,429,503]);var lX=({attemptCount:K,retryOptions:$,error:w,retryAfter:X})=>{if(K>$.limit)return 0;const Y=$.methods.includes(w.options.method),G=$.errorCodes.includes(w.code),Q=w.response&&$.statusCodes.includes(w.response.statusCode);if(!Y||!G&&!Q)return 0;if(w.response){if(X){if($.maxRetryAfter===void 0||X>$.maxRetryAfter)return 0;return X}if(w.response.statusCode===413)return 0}const Z=Math.random()*100;return 2**(K-1)*1000+Z};Y6.default=lX});var W0=h((h6)=>{function ZY(K){for(let $ in K){const w=K[$];if(!J.default.string(w)&&!J.default.number(w)&&!J.default.boolean(w)&&!J.default.null_(w)&&!J.default.undefined(w))throw new TypeError(`The \`searchParams\` value '${String(w)}' must be a string, number, boolean or null`)}}function MY(K){return J.default.object(K)&&!("statusCode"in K)}Object.defineProperty(h6,"__esModule",{value:!0});h6.UnsupportedProtocolError=h6.ReadError=h6.TimeoutError=h6.UploadError=h6.CacheError=h6.HTTPError=h6.MaxRedirectsError=h6.RequestError=h6.setNonEnumerableProperties=h6.knownHookEvents=h6.withoutBody=h6.kIsNormalizedAlready=void 0;var V6=P("util"),Z6=P("stream"),iX=P("fs"),u=P("url"),M6=P("http"),z1=P("http"),aX=P("https"),nX=s1(),tX=YK(),L6=dK(),rX=lK(),sX=z$(),oX=A0(),J=g(),eX=S$(),J6=f1(),KY=F1(),W6=_$(),$Y=c$(),I6=v$(),wY=l$(),XY=h1(),B6=r$(),YY=P1(),l=$6(),GY=X6(),QY=Q6(),A1,E=Symbol("request"),S0=Symbol("response"),e=Symbol("responseSize"),K0=Symbol("downloadedSize"),$0=Symbol("bodySize"),w0=Symbol("uploadedSize"),E0=Symbol("serverResponsesPiped"),N6=Symbol("unproxyEvents"),D6=Symbol("isFromCache"),H1=Symbol("cancelTimeouts"),f6=Symbol("startedReading"),X0=Symbol("stopReading"),C0=Symbol("triggerRead"),p=Symbol("body"),J0=Symbol("jobs"),F6=Symbol("originalResponse"),U6=Symbol("retryTimeout");h6.kIsNormalizedAlready=Symbol("isNormalizedAlready");var VY=J.default.string(process.versions.brotli);h6.withoutBody=new Set(["GET","HEAD"]);h6.knownHookEvents=["init","beforeRequest","beforeRedirect","beforeError","beforeRetry","afterResponse"];var j1=new wY.default,LY=async(K)=>new Promise(($,w)=>{const X=(Y)=>{w(Y)};if(!K.pending)$();K.once("error",X),K.once("ready",()=>{K.off("error",X),$()})}),JY=new Set([300,301,302,303,304,307,308]),WY=["context","body","json","form"];h6.setNonEnumerableProperties=(K,$)=>{const w={};for(let X of K){if(!X)continue;for(let Y of WY){if(!(Y in X))continue;w[Y]={writable:!0,configurable:!0,enumerable:!1,value:X[Y]}}}Object.defineProperties($,w)};class x extends Error{constructor(K,$,w){var X,Y;super(K);if(Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=(X=$.code)!==null&&X!==void 0?X:"ERR_GOT_REQUEST_ERROR",w instanceof y1)Object.defineProperty(this,"request",{enumerable:!1,value:w}),Object.defineProperty(this,"response",{enumerable:!1,value:w[S0]}),Object.defineProperty(this,"options",{enumerable:!1,value:w.options});else Object.defineProperty(this,"options",{enumerable:!1,value:w});if(this.timings=(Y=this.request)===null||Y===void 0?void 0:Y.timings,J.default.string($.stack)&&J.default.string(this.stack)){const G=this.stack.indexOf(this.message)+this.message.length,Q=this.stack.slice(G).split("\n").reverse(),Z=$.stack.slice($.stack.indexOf($.message)+$.message.length).split("\n").reverse();while(Z.length!==0&&Z[0]===Q[0])Q.shift();this.stack=`${this.stack.slice(0,G)}${Q.reverse().join("\n")}${Z.reverse().join("\n")}`}}}h6.RequestError=x;class E1 extends x{constructor(K){super(`Redirected ${K.options.maxRedirects} times. Aborting.`,{},K);this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}}h6.MaxRedirectsError=E1;class C1 extends x{constructor(K){super(`Response code ${K.statusCode} (${K.statusMessage})`,{},K.request);this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}}h6.HTTPError=C1;class S1 extends x{constructor(K,$){super(K.message,K,$);this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}}h6.CacheError=S1;class R1 extends x{constructor(K,$){super(K.message,K,$);this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}}h6.UploadError=R1;class O1 extends x{constructor(K,$,w){super(K.message,K,w);this.name="TimeoutError",this.event=K.event,this.timings=$}}h6.TimeoutError=O1;class R0 extends x{constructor(K,$){super(K.message,K,$);this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}}h6.ReadError=R0;class T1 extends x{constructor(K){super(`Unsupported protocol "${K.url.protocol}"`,{},K);this.name="UnsupportedProtocolError",this.code="ERR_UNSUPPORTED_PROTOCOL"}}h6.UnsupportedProtocolError=T1;var IY=["socket","connect","continue","information","upgrade","timeout"];class y1 extends Z6.Duplex{constructor(K,$={},w){super({autoDestroy:!1,highWaterMark:0});this[K0]=0,this[w0]=0,this.requestInitialized=!1,this[E0]=new Set,this.redirects=[],this[X0]=!1,this[C0]=!1,this[J0]=[],this.retryCount=0,this._progressCallbacks=[];const X=()=>this._unlockWrite(),Y=()=>this._lockWrite();this.on("pipe",(M)=>{M.prependListener("data",X),M.on("data",Y),M.prependListener("end",X),M.on("end",Y)}),this.on("unpipe",(M)=>{M.off("data",X),M.off("data",Y),M.off("end",X),M.off("end",Y)}),this.on("pipe",(M)=>{if(M instanceof z1.IncomingMessage)this.options.headers={...M.headers,...this.options.headers}});const{json:G,body:Q,form:Z}=$;if(G||Q||Z)this._lockWrite();if(h6.kIsNormalizedAlready in $)this.options=$;else try{this.options=this.constructor.normalizeArguments(K,$,w)}catch(M){if(J.default.nodeStream($.body))$.body.destroy();this.destroy(M);return}(async()=>{var M;try{if(this.options.body instanceof iX.ReadStream)await LY(this.options.body);const{url:F}=this.options;if(!F)throw new TypeError("Missing `url` property");if(this.requestUrl=F.toString(),decodeURI(this.requestUrl),await this._finalizeBody(),await this._makeRequest(),this.destroyed){(M=this[E])===null||M===void 0||M.destroy();return}for(let B of this[J0])B();this[J0].length=0,this.requestInitialized=!0}catch(F){if(F instanceof x){this._beforeError(F);return}if(!this.destroyed)this.destroy(F)}})()}static normalizeArguments(K,$,w){var X,Y,G,Q,Z;const M=$;if(J.default.object(K)&&!J.default.urlInstance(K))$={...w,...K,...$};else{if(K&&$&&$.url!==void 0)throw new TypeError("The `url` option is mutually exclusive with the `input` argument");if($={...w,...$},K!==void 0)$.url=K;if(J.default.urlInstance($.url))$.url=new u.URL($.url.toString())}if($.cache===!1)$.cache=void 0;if($.dnsCache===!1)$.dnsCache=void 0;if(J.assert.any([J.default.string,J.default.undefined],$.method),J.assert.any([J.default.object,J.default.undefined],$.headers),J.assert.any([J.default.string,J.default.urlInstance,J.default.undefined],$.prefixUrl),J.assert.any([J.default.object,J.default.undefined],$.cookieJar),J.assert.any([J.default.object,J.default.string,J.default.undefined],$.searchParams),J.assert.any([J.default.object,J.default.string,J.default.undefined],$.cache),J.assert.any([J.default.object,J.default.number,J.default.undefined],$.timeout),J.assert.any([J.default.object,J.default.undefined],$.context),J.assert.any([J.default.object,J.default.undefined],$.hooks),J.assert.any([J.default.boolean,J.default.undefined],$.decompress),J.assert.any([J.default.boolean,J.default.undefined],$.ignoreInvalidCookies),J.assert.any([J.default.boolean,J.default.undefined],$.followRedirect),J.assert.any([J.default.number,J.default.undefined],$.maxRedirects),J.assert.any([J.default.boolean,J.default.undefined],$.throwHttpErrors),J.assert.any([J.default.boolean,J.default.undefined],$.http2),J.assert.any([J.default.boolean,J.default.undefined],$.allowGetBody),J.assert.any([J.default.string,J.default.undefined],$.localAddress),J.assert.any([B6.isDnsLookupIpVersion,J.default.undefined],$.dnsLookupIpVersion),J.assert.any([J.default.object,J.default.undefined],$.https),J.assert.any([J.default.boolean,J.default.undefined],$.rejectUnauthorized),$.https)J.assert.any([J.default.boolean,J.default.undefined],$.https.rejectUnauthorized),J.assert.any([J.default.function_,J.default.undefined],$.https.checkServerIdentity),J.assert.any([J.default.string,J.default.object,J.default.array,J.default.undefined],$.https.certificateAuthority),J.assert.any([J.default.string,J.default.object,J.default.array,J.default.undefined],$.https.key),J.assert.any([J.default.string,J.default.object,J.default.array,J.default.undefined],$.https.certificate),J.assert.any([J.default.string,J.default.undefined],$.https.passphrase),J.assert.any([J.default.string,J.default.buffer,J.default.array,J.default.undefined],$.https.pfx);if(J.assert.any([J.default.object,J.default.undefined],$.cacheOptions),J.default.string($.method))$.method=$.method.toUpperCase();else $.method="GET";if($.headers===(w===null||w===void 0?void 0:w.headers))$.headers={...$.headers};else $.headers=oX({...w===null||w===void 0?void 0:w.headers,...$.headers});if("slashes"in $)throw new TypeError("The legacy `url.Url` has been deprecated. Use `URL` instead.");if("auth"in $)throw new TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.");if("searchParams"in $){if($.searchParams&&$.searchParams!==(w===null||w===void 0?void 0:w.searchParams)){let I;if(J.default.string($.searchParams)||$.searchParams instanceof u.URLSearchParams)I=new u.URLSearchParams($.searchParams);else{ZY($.searchParams),I=new u.URLSearchParams;for(let U in $.searchParams){const N=$.searchParams[U];if(N===null)I.append(U,"");else if(N!==void 0)I.append(U,N)}}(X=w===null||w===void 0?void 0:w.searchParams)===null||X===void 0||X.forEach((U,N)=>{if(!I.has(N))I.append(N,U)}),$.searchParams=I}}if($.username=(Y=$.username)!==null&&Y!==void 0?Y:"",$.password=(G=$.password)!==null&&G!==void 0?G:"",J.default.undefined($.prefixUrl))$.prefixUrl=(Q=w===null||w===void 0?void 0:w.prefixUrl)!==null&&Q!==void 0?Q:"";else if($.prefixUrl=$.prefixUrl.toString(),$.prefixUrl!==""&&!$.prefixUrl.endsWith("/"))$.prefixUrl+="/";if(J.default.string($.url)){if($.url.startsWith("/"))throw new Error("`input` must not start with a slash when using `prefixUrl`");$.url=I6.default($.prefixUrl+$.url,$)}else if(J.default.undefined($.url)&&$.prefixUrl!==""||$.protocol)$.url=I6.default($.prefixUrl,$);if($.url){if("port"in $)delete $.port;let{prefixUrl:I}=$;Object.defineProperty($,"prefixUrl",{set:(N)=>{const W=$.url;if(!W.href.startsWith(N))throw new Error(`Cannot change \`prefixUrl\` from ${I} to ${N}: ${W.href}`);$.url=new u.URL(N+W.href.slice(I.length)),I=N},get:()=>I});let{protocol:U}=$.url;if(U==="unix:")U="http:",$.url=new u.URL(`http://unix${$.url.pathname}${$.url.search}`);if($.searchParams)$.url.search=$.searchParams.toString();if(U!=="http:"&&U!=="https:")throw new T1($);if($.username==="")$.username=$.url.username;else $.url.username=$.username;if($.password==="")$.password=$.url.password;else $.url.password=$.password}const{cookieJar:F}=$;if(F){let{setCookie:I,getCookieString:U}=F;if(J.assert.function_(I),J.assert.function_(U),I.length===4&&U.length===0)I=V6.promisify(I.bind($.cookieJar)),U=V6.promisify(U.bind($.cookieJar)),$.cookieJar={setCookie:I,getCookieString:U}}const{cache:B}=$;if(B){if(!j1.has(B))j1.set(B,new L6((I,U)=>{const N=I[E](I,U);if(J.default.promise(N))N.once=(W,f)=>{if(W==="error")N.catch(f);else if(W==="abort")(async()=>{try{(await N).once("abort",f)}catch(z){}})();else throw new Error(`Unknown HTTP2 promise event: ${W}`);return N};return N},B))}if($.cacheOptions={...$.cacheOptions},$.dnsCache===!0){if(!A1)A1=new tX.default;$.dnsCache=A1}else if(!J.default.undefined($.dnsCache)&&!$.dnsCache.lookup)throw new TypeError(`Parameter \`dnsCache\` must be a CacheableLookup instance or a boolean, got ${J.default($.dnsCache)}`);if(J.default.number($.timeout))$.timeout={request:$.timeout};else if(w&&$.timeout!==w.timeout)$.timeout={...w.timeout,...$.timeout};else $.timeout={...$.timeout};if(!$.context)$.context={};const L=$.hooks===(w===null||w===void 0?void 0:w.hooks);$.hooks={...$.hooks};for(let I of h6.knownHookEvents)if(I in $.hooks)if(J.default.array($.hooks[I]))$.hooks[I]=[...$.hooks[I]];else throw new TypeError(`Parameter \`${I}\` must be an Array, got ${J.default($.hooks[I])}`);else $.hooks[I]=[];if(w&&!L){for(let I of h6.knownHookEvents)if(w.hooks[I].length>0)$.hooks[I]=[...w.hooks[I],...$.hooks[I]]}if("family"in $)l.default('"options.family" was never documented, please use "options.dnsLookupIpVersion"');if(w===null||w===void 0?void 0:w.https)$.https={...w.https,...$.https};if("rejectUnauthorized"in $)l.default('"options.rejectUnauthorized" is now deprecated, please use "options.https.rejectUnauthorized"');if("checkServerIdentity"in $)l.default('"options.checkServerIdentity" was never documented, please use "options.https.checkServerIdentity"');if("ca"in $)l.default('"options.ca" was never documented, please use "options.https.certificateAuthority"');if("key"in $)l.default('"options.key" was never documented, please use "options.https.key"');if("cert"in $)l.default('"options.cert" was never documented, please use "options.https.certificate"');if("passphrase"in $)l.default('"options.passphrase" was never documented, please use "options.https.passphrase"');if("pfx"in $)l.default('"options.pfx" was never documented, please use "options.https.pfx"');if("followRedirects"in $)throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.");if($.agent){for(let I in $.agent)if(I!=="http"&&I!=="https"&&I!=="http2")throw new TypeError(`Expected the \`options.agent\` properties to be \`http\`, \`https\` or \`http2\`, got \`${I}\``)}return $.maxRedirects=(Z=$.maxRedirects)!==null&&Z!==void 0?Z:0,h6.setNonEnumerableProperties([w,M],$),GY.default($,w)}_lockWrite(){const K=()=>{throw new TypeError("The payload has been already provided")};this.write=K,this.end=K}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){const{options:K}=this,{headers:$}=K,w=!J.default.undefined(K.form),X=!J.default.undefined(K.json),Y=!J.default.undefined(K.body),G=w||X||Y,Q=h6.withoutBody.has(K.method)&&!(K.method==="GET"&&K.allowGetBody);if(this._cannotHaveBody=Q,G){if(Q)throw new TypeError(`The \`${K.method}\` method cannot be used with a body`);if([Y,w,X].filter((Z)=>Z).length>1)throw new TypeError("The `body`, `json` and `form` options are mutually exclusive");if(Y&&!(K.body instanceof Z6.Readable)&&!J.default.string(K.body)&&!J.default.buffer(K.body)&&!J6.default(K.body))throw new TypeError("The `body` option must be a stream.Readable, string or Buffer");if(w&&!J.default.object(K.form))throw new TypeError("The `form` option must be an Object");{const Z=!J.default.string($["content-type"]);if(Y){if(J6.default(K.body)&&Z)$["content-type"]=`multipart/form-data; boundary=${K.body.getBoundary()}`;this[p]=K.body}else if(w){if(Z)$["content-type"]="application/x-www-form-urlencoded";this[p]=new u.URLSearchParams(K.form).toString()}else{if(Z)$["content-type"]="application/json";this[p]=K.stringifyJson(K.json)}const M=await eX.default(this[p],K.headers);if(J.default.undefined($["content-length"])&&J.default.undefined($["transfer-encoding"])){if(!Q&&!J.default.undefined(M))$["content-length"]=String(M)}}}else if(Q)this._lockWrite();else this._unlockWrite();this[$0]=Number($["content-length"])||void 0}async _onResponseBase(K){const{options:$}=this,{url:w}=$;if(this[F6]=K,$.decompress)K=rX(K);const X=K.statusCode,Y=K;Y.statusMessage=Y.statusMessage?Y.statusMessage:M6.STATUS_CODES[X],Y.url=$.url.toString(),Y.requestUrl=this.requestUrl,Y.redirectUrls=this.redirects,Y.request=this,Y.isFromCache=K.fromCache||!1,Y.ip=this.ip,Y.retryCount=this.retryCount,this[D6]=Y.isFromCache,this[e]=Number(K.headers["content-length"])||void 0,this[S0]=K,K.once("end",()=>{this[e]=this[K0],this.emit("downloadProgress",this.downloadProgress)}),K.once("error",(Q)=>{K.destroy(),this._beforeError(new R0(Q,this))}),K.once("aborted",()=>{this._beforeError(new R0({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);const G=K.headers["set-cookie"];if(J.default.object($.cookieJar)&&G){let Q=G.map(async(Z)=>$.cookieJar.setCookie(Z,w.toString()));if($.ignoreInvalidCookies)Q=Q.map(async(Z)=>Z.catch(()=>{}));try{await Promise.all(Q)}catch(Z){this._beforeError(Z);return}}if($.followRedirect&&K.headers.location&&JY.has(X)){if(K.resume(),this[E])this[H1](),delete this[E],this[N6]();if(X===303&&$.method!=="GET"&&$.method!=="HEAD"||!$.methodRewriting){if($.method="GET","body"in $)delete $.body;if("json"in $)delete $.json;if("form"in $)delete $.form;this[p]=void 0,delete $.headers["content-length"]}if(this.redirects.length>=$.maxRedirects){this._beforeError(new E1(this));return}try{let B=function(L){return L.protocol==="unix:"||L.hostname==="unix"};const Z=Buffer.from(K.headers.location,"binary").toString(),M=new u.URL(Z,w),F=M.toString();if(decodeURI(F),!B(w)&&B(M)){this._beforeError(new x("Cannot redirect to UNIX socket",{},this));return}if(M.hostname!==w.hostname||M.port!==w.port){if("host"in $.headers)delete $.headers.host;if("cookie"in $.headers)delete $.headers.cookie;if("authorization"in $.headers)delete $.headers.authorization;if($.username||$.password)$.username="",$.password=""}else M.username=$.username,M.password=$.password;this.redirects.push(F),$.url=M;for(let L of $.hooks.beforeRedirect)await L($,Y);this.emit("redirect",Y,$),await this._makeRequest()}catch(Z){this._beforeError(Z);return}return}if($.isStream&&$.throwHttpErrors&&!YY.isResponseOk(Y)){this._beforeError(new C1(Y));return}K.on("readable",()=>{if(this[C0])this._read()}),this.on("resume",()=>{K.resume()}),this.on("pause",()=>{K.pause()}),K.once("end",()=>{this.push(null)}),this.emit("response",K);for(let Q of this[E0]){if(Q.headersSent)continue;for(let Z in K.headers){const M=$.decompress?Z!=="content-encoding":!0,F=K.headers[Z];if(M)Q.setHeader(Z,F)}Q.statusCode=X}}async _onResponse(K){try{await this._onResponseBase(K)}catch($){this._beforeError($)}}_onRequest(K){const{options:$}=this,{timeout:w,url:X}=$;nX.default(K),this[H1]=W6.default(K,w,X);const Y=$.cache?"cacheableResponse":"response";K.once(Y,(Z)=>{this._onResponse(Z)}),K.once("error",(Z)=>{var M;K.destroy(),(M=K.res)===null||M===void 0||M.removeAllListeners("end"),Z=Z instanceof W6.TimeoutError?new O1(Z,this.timings,this):new x(Z.message,Z,this),this._beforeError(Z)}),this[N6]=KY.default(K,this,IY),this[E]=K,this.emit("uploadProgress",this.uploadProgress);const G=this[p],Q=this.redirects.length===0?this:K;if(J.default.nodeStream(G))G.pipe(Q),G.once("error",(Z)=>{this._beforeError(new R1(Z,this))});else if(this._unlockWrite(),!J.default.undefined(G))this._writeRequest(G,void 0,()=>{}),Q.end(),this._lockWrite();else if(this._cannotHaveBody||this._noPipe)Q.end(),this._lockWrite();this.emit("request",K)}async _createCacheableRequest(K,$){return new Promise((w,X)=>{Object.assign($,$Y.default(K)),delete $.url;let Y;const G=j1.get($.cache)($,async(Q)=>{if(Q._readableState.autoDestroy=!1,Y)(await Y).emit("cacheableResponse",Q);w(Q)});$.url=K,G.once("error",X),G.once("request",async(Q)=>{Y=Q,w(Y)})})}async _makeRequest(){var K,$,w,X,Y;const{options:G}=this,{headers:Q}=G;for(let f in Q)if(J.default.undefined(Q[f]))delete Q[f];else if(J.default.null_(Q[f]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${f}\` header`);if(G.decompress&&J.default.undefined(Q["accept-encoding"]))Q["accept-encoding"]=VY?"gzip, deflate, br":"gzip, deflate";if(G.cookieJar){const f=await G.cookieJar.getCookieString(G.url.toString());if(J.default.nonEmptyString(f))G.headers.cookie=f}for(let f of G.hooks.beforeRequest){const z=await f(G);if(!J.default.undefined(z)){G.request=()=>z;break}}if(G.body&&this[p]!==G.body)this[p]=G.body;const{agent:Z,request:M,timeout:F,url:B}=G;if(G.dnsCache&&!("lookup"in G))G.lookup=G.dnsCache.lookup;if(B.hostname==="unix"){const f=/(?<socketPath>.+?):(?<path>.+)/.exec(`${B.pathname}${B.search}`);if(f===null||f===void 0?void 0:f.groups){const{socketPath:z,path:j}=f.groups;Object.assign(G,{socketPath:z,path:j,host:""})}}const L=B.protocol==="https:";let I;if(G.http2)I=sX.auto;else I=L?aX.request:M6.request;const U=(K=G.request)!==null&&K!==void 0?K:I,N=G.cache?this._createCacheableRequest:U;if(Z&&!G.http2)G.agent=Z[L?"https":"http"];G[E]=U,delete G.request,delete G.timeout;const W=G;if(W.shared=($=G.cacheOptions)===null||$===void 0?void 0:$.shared,W.cacheHeuristic=(w=G.cacheOptions)===null||w===void 0?void 0:w.cacheHeuristic,W.immutableMinTimeToLive=(X=G.cacheOptions)===null||X===void 0?void 0:X.immutableMinTimeToLive,W.ignoreCargoCult=(Y=G.cacheOptions)===null||Y===void 0?void 0:Y.ignoreCargoCult,G.dnsLookupIpVersion!==void 0)try{W.family=B6.dnsLookupIpVersionToFamily(G.dnsLookupIpVersion)}catch(f){throw new Error("Invalid `dnsLookupIpVersion` option value")}if(G.https){if("rejectUnauthorized"in G.https)W.rejectUnauthorized=G.https.rejectUnauthorized;if(G.https.checkServerIdentity)W.checkServerIdentity=G.https.checkServerIdentity;if(G.https.certificateAuthority)W.ca=G.https.certificateAuthority;if(G.https.certificate)W.cert=G.https.certificate;if(G.https.key)W.key=G.https.key;if(G.https.passphrase)W.passphrase=G.https.passphrase;if(G.https.pfx)W.pfx=G.https.pfx}try{let f=await N(B,W);if(J.default.undefined(f))f=I(B,W);if(G.request=M,G.timeout=F,G.agent=Z,G.https){if("rejectUnauthorized"in G.https)delete W.rejectUnauthorized;if(G.https.checkServerIdentity)delete W.checkServerIdentity;if(G.https.certificateAuthority)delete W.ca;if(G.https.certificate)delete W.cert;if(G.https.key)delete W.key;if(G.https.passphrase)delete W.passphrase;if(G.https.pfx)delete W.pfx}if(MY(f))this._onRequest(f);else if(this.writable)this.once("finish",()=>{this._onResponse(f)}),this._unlockWrite(),this.end(),this._lockWrite();else this._onResponse(f)}catch(f){if(f instanceof L6.CacheError)throw new S1(f,this);throw new x(f.message,f,this)}}async _error(K){try{for(let $ of this.options.hooks.beforeError)K=await $(K)}catch($){K=new x($.message,$,this)}this.destroy(K)}_beforeError(K){if(this[X0])return;const{options:$}=this,w=this.retryCount+1;if(this[X0]=!0,!(K instanceof x))K=new x(K.message,K,this);const X=K,{response:Y}=X;(async()=>{if(Y&&!Y.body){Y.setEncoding(this._readableState.encoding);try{Y.rawBody=await XY.default(Y),Y.body=Y.rawBody.toString()}catch(G){}}if(this.listenerCount("retry")!==0){let G;try{let Q;if(Y&&"retry-after"in Y.headers)if(Q=Number(Y.headers["retry-after"]),Number.isNaN(Q)){if(Q=Date.parse(Y.headers["retry-after"])-Date.now(),Q<=0)Q=1}else Q*=1000;G=await $.retry.calculateDelay({attemptCount:w,retryOptions:$.retry,error:X,retryAfter:Q,computedValue:QY.default({attemptCount:w,retryOptions:$.retry,error:X,retryAfter:Q,computedValue:0})})}catch(Q){this._error(new x(Q.message,Q,this));return}if(G){const Q=async()=>{try{for(let Z of this.options.hooks.beforeRetry)await Z(this.options,X,w)}catch(Z){this._error(new x(Z.message,K,this));return}if(this.destroyed)return;this.destroy(),this.emit("retry",w,K)};this[U6]=setTimeout(Q,G);return}}this._error(X)})()}_read(){this[C0]=!0;const K=this[S0];if(K&&!this[X0]){if(K.readableLength)this[C0]=!1;let $;while(($=K.read())!==null){this[K0]+=$.length,this[f6]=!0;const w=this.downloadProgress;if(w.percent<1)this.emit("downloadProgress",w);this.push($)}}}_write(K,$,w){const X=()=>{this._writeRequest(K,$,w)};if(this.requestInitialized)X();else this[J0].push(X)}_writeRequest(K,$,w){if(this[E].destroyed)return;this._progressCallbacks.push(()=>{this[w0]+=Buffer.byteLength(K,$);const X=this.uploadProgress;if(X.percent<1)this.emit("uploadProgress",X)}),this[E].write(K,$,(X)=>{if(!X&&this._progressCallbacks.length>0)this._progressCallbacks.shift()();w(X)})}_final(K){const $=()=>{while(this._progressCallbacks.length!==0)this._progressCallbacks.shift()();if(!(E in this)){K();return}if(this[E].destroyed){K();return}this[E].end((w)=>{if(!w)this[$0]=this[w0],this.emit("uploadProgress",this.uploadProgress),this[E].emit("upload-complete");K(w)})};if(this.requestInitialized)$();else this[J0].push($)}_destroy(K,$){var w;if(this[X0]=!0,clearTimeout(this[U6]),E in this){if(this[H1](),!((w=this[S0])===null||w===void 0?void 0:w.complete))this[E].destroy()}if(K!==null&&!J.default.undefined(K)&&!(K instanceof x))K=new x(K.message,K,this);$(K)}get _isAboutToError(){return this[X0]}get ip(){var K;return(K=this.socket)===null||K===void 0?void 0:K.remoteAddress}get aborted(){var K,$,w;return(($=(K=this[E])===null||K===void 0?void 0:K.destroyed)!==null&&$!==void 0?$:this.destroyed)&&!((w=this[F6])===null||w===void 0?void 0:w.complete)}get socket(){var K,$;return($=(K=this[E])===null||K===void 0?void 0:K.socket)!==null&&$!==void 0?$:void 0}get downloadProgress(){let K;if(this[e])K=this[K0]/this[e];else if(this[e]===this[K0])K=1;else K=0;return{percent:K,transferred:this[K0],total:this[e]}}get uploadProgress(){let K;if(this[$0])K=this[w0]/this[$0];else if(this[$0]===this[w0])K=1;else K=0;return{percent:K,transferred:this[w0],total:this[$0]}}get timings(){var K;return(K=this[E])===null||K===void 0?void 0:K.timings}get isFromCache(){return this[D6]}pipe(K,$){if(this[f6])throw new Error("Failed to pipe. The response has been emitted already.");if(K instanceof z1.ServerResponse)this[E0].add(K);return super.pipe(K,$)}unpipe(K){if(K instanceof z1.ServerResponse)this[E0].delete(K);return super.unpipe(K),this}}h6.default=y1});var I0=h((q)=>{var zY=q&&q.__createBinding||(Object.create?function(K,$,w,X){if(X===void 0)X=w;Object.defineProperty(K,X,{enumerable:!0,get:function(){return $[w]}})}:function(K,$,w,X){if(X===void 0)X=w;K[X]=$[w]}),AY=q&&q.__exportStar||function(K,$){for(var w in K)if(w!=="default"&&!Object.prototype.hasOwnProperty.call($,w))zY($,K,w)};Object.defineProperty(q,"__esModule",{value:!0});q.CancelError=q.ParseError=void 0;var j6=W0();class x6 extends j6.RequestError{constructor(K,$){const{options:w}=$.request;super(`${K.message} in "${w.url.toString()}"`,K,$.request);this.name="ParseError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_BODY_PARSE_FAILURE":this.code}}q.ParseError=x6;class E6 extends j6.RequestError{constructor(K){super("Promise was canceled",{},K);this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}}q.CancelError=E6;AY(W0(),q)});var R6=h((S6)=>{Object.defineProperty(S6,"__esModule",{value:!0});var C6=I0(),HY=(K,$,w,X)=>{const{rawBody:Y}=K;try{if($==="text")return Y.toString(X);if($==="json")return Y.length===0?"":w(Y.toString());if($==="buffer")return Y;throw new C6.ParseError({message:`Unknown body type '${$}'`,name:"Error"},K)}catch(G){throw new C6.ParseError(G,K)}};S6.default=HY});var b1=h((i)=>{function b6(K){let $,w;const X=new CY.EventEmitter,Y=new RY((Q,Z,M)=>{const F=(B)=>{const L=new T6.default(void 0,K);L.retryCount=B,L._noPipe=!0,M(()=>L.destroy()),M.shouldReject=!1,M(()=>Z(new O0.CancelError(L))),$=L,L.once("response",async(N)=>{var W;if(N.retryCount=B,N.request.aborted)return;let f;try{f=await TY.default(L),N.rawBody=f}catch(R){return}if(L._isAboutToError)return;const z=((W=N.headers["content-encoding"])!==null&&W!==void 0?W:"").toLowerCase(),j=["gzip","deflate","br"].includes(z),{options:b}=L;if(j&&!b.decompress)N.body=f;else try{N.body=O6.default(N,b.responseType,b.parseJson,b.encoding)}catch(R){if(N.body=f.toString(),y6.isResponseOk(N)){L._beforeError(R);return}}try{for(let[R,G0]of b.hooks.afterResponse.entries())N=await G0(N,async(c0)=>{const v=T6.default.normalizeArguments(void 0,{...c0,retry:{calculateDelay:()=>0},throwHttpErrors:!1,resolveBodyOnly:!1},b);v.hooks.afterResponse=v.hooks.afterResponse.slice(0,R);for(let B4 of v.hooks.beforeRetry)await B4(v);const d0=b6(v);return M(()=>{d0.catch(()=>{}),d0.cancel()}),d0})}catch(R){L._beforeError(new O0.RequestError(R.message,R,L));return}if(w=N,!y6.isResponseOk(N)){L._beforeError(new O0.HTTPError(N));return}L.destroy(),Q(L.options.resolveBodyOnly?N.body:N)});const I=(N)=>{if(Y.isCanceled)return;const{options:W}=L;if(N instanceof O0.HTTPError&&!W.throwHttpErrors){const{response:f}=N;Q(L.options.resolveBodyOnly?f.body:f);return}Z(N)};L.once("error",I);const U=L.options.body;L.once("retry",(N,W)=>{var f,z;if(U===((f=W.request)===null||f===void 0?void 0:f.options.body)&&SY.default.nodeStream((z=W.request)===null||z===void 0?void 0:z.options.body)){I(W);return}F(N)}),OY.default(L,X,yY)};F(0)});Y.on=(Q,Z)=>{return X.on(Q,Z),Y};const G=(Q)=>{const Z=(async()=>{await Y;const{options:M}=w.request;return O6.default(w,Q,M.parseJson,M.encoding)})();return Object.defineProperties(Z,Object.getOwnPropertyDescriptors(Y)),Z};return Y.json=()=>{const{headers:Q}=$.options;if(!$.writableFinished&&Q.accept===void 0)Q.accept="application/json";return G("json")},Y.buffer=()=>G("buffer"),Y.text=()=>G("text"),Y}var xY=i&&i.__createBinding||(Object.create?function(K,$,w,X){if(X===void 0)X=w;Object.defineProperty(K,X,{enumerable:!0,get:function(){return $[w]}})}:function(K,$,w,X){if(X===void 0)X=w;K[X]=$[w]}),EY=i&&i.__exportStar||function(K,$){for(var w in K)if(w!=="default"&&!Object.prototype.hasOwnProperty.call($,w))xY($,K,w)};Object.defineProperty(i,"__esModule",{value:!0});var CY=P("events"),SY=g(),RY=a1(),O0=I0(),O6=R6(),T6=W0(),OY=F1(),TY=h1(),y6=P1(),yY=["request","response","redirect","uploadProgress","downloadProgress"];i.default=b6;EY(I0(),i)});var _6=h((q6)=>{function qY(K,...$){const w=(async()=>{if(K instanceof bY.RequestError)try{for(let Y of $)if(Y)for(let G of Y)K=await G(K)}catch(Y){K=Y}throw K})(),X=()=>w;return w.json=X,w.text=X,w.buffer=X,w.on=X,w}Object.defineProperty(q6,"__esModule",{value:!0});var bY=I0();q6.default=qY});var d6=h((c6)=>{function g6(K){for(let $ of Object.values(K))if(k6.default.plainObject($)||k6.default.array($))g6($);return Object.freeze(K)}Object.defineProperty(c6,"__esModule",{value:!0});var k6=g();c6.default=g6});var m6=h((v6)=>{Object.defineProperty(v6,"__esModule",{value:!0})});var q1=h((y)=>{var gY=y&&y.__createBinding||(Object.create?function(K,$,w,X){if(X===void 0)X=w;Object.defineProperty(K,X,{enumerable:!0,get:function(){return $[w]}})}:function(K,$,w,X){if(X===void 0)X=w;K[X]=$[w]}),cY=y&&y.__exportStar||function(K,$){for(var w in K)if(w!=="default"&&!Object.prototype.hasOwnProperty.call($,w))gY($,K,w)};Object.defineProperty(y,"__esModule",{value:!0});y.defaultHandler=void 0;var u6=g(),T=b1(),dY=_6(),y0=W0(),vY=d6(),mY={RequestError:T.RequestError,CacheError:T.CacheError,ReadError:T.ReadError,HTTPError:T.HTTPError,MaxRedirectsError:T.MaxRedirectsError,TimeoutError:T.TimeoutError,ParseError:T.ParseError,CancelError:T.CancelError,UnsupportedProtocolError:T.UnsupportedProtocolError,UploadError:T.UploadError},uY=async(K)=>new Promise(($)=>{setTimeout($,K)}),{normalizeArguments:T0}=y0.default,l6=(...K)=>{let $;for(let w of K)$=T0(void 0,w,$);return $},lY=(K)=>K.isStream?new y0.default(void 0,K):T.default(K),pY=(K)=>("defaults"in K)&&("options"in K.defaults),iY=["get","post","put","patch","head","delete"];y.defaultHandler=(K,$)=>$(K);var p6=(K,$)=>{if(K)for(let w of K)w($)},i6=(K)=>{K._rawHandlers=K.handlers,K.handlers=K.handlers.map((X)=>(Y,G)=>{let Q;const Z=X(Y,(M)=>{return Q=G(M),Q});if(Z!==Q&&!Y.isStream&&Q){const M=Z,{then:F,catch:B,finally:L}=M;Object.setPrototypeOf(M,Object.getPrototypeOf(Q)),Object.defineProperties(M,Object.getOwnPropertyDescriptors(Q)),M.then=F,M.catch=B,M.finally=L}return Z});const $=(X,Y={},G)=>{var Q,Z;let M=0;const F=(B)=>{return K.handlers[M++](B,M===K.handlers.length?lY:F)};if(u6.default.plainObject(X)){const B={...X,...Y};y0.setNonEnumerableProperties([X,Y],B),Y=B,X=void 0}try{let B;try{p6(K.options.hooks.init,Y),p6((Q=Y.hooks)===null||Q===void 0?void 0:Q.init,Y)}catch(I){B=I}const L=T0(X,Y,G!==null&&G!==void 0?G:K.options);if(L[y0.kIsNormalizedAlready]=!0,B)throw new T.RequestError(B.message,B,L);return F(L)}catch(B){if(Y.isStream)throw B;else return dY.default(B,K.options.hooks.beforeError,(Z=Y.hooks)===null||Z===void 0?void 0:Z.beforeError)}};$.extend=(...X)=>{const Y=[K.options];let G=[...K._rawHandlers],Q;for(let Z of X)if(pY(Z))Y.push(Z.defaults.options),G.push(...Z.defaults._rawHandlers),Q=Z.defaults.mutableDefaults;else{if(Y.push(Z),"handlers"in Z)G.push(...Z.handlers);Q=Z.mutableDefaults}if(G=G.filter((Z)=>Z!==y.defaultHandler),G.length===0)G.push(y.defaultHandler);return i6({options:l6(...Y),handlers:G,mutableDefaults:Boolean(Q)})};const w=async function*(X,Y){let G=T0(X,Y,K.options);G.resolveBodyOnly=!1;const Q=G.pagination;if(!u6.default.object(Q))throw new TypeError("`options.pagination` must be implemented");const Z=[];let{countLimit:M}=Q,F=0;while(F<Q.requestLimit){if(F!==0)await uY(Q.backoff);const B=await $(void 0,void 0,G),L=await Q.transform(B),I=[];for(let N of L)if(Q.filter(N,Z,I)){if(!Q.shouldContinue(N,Z,I))return;if(yield N,Q.stackAllItems)Z.push(N);if(I.push(N),--M<=0)return}const U=Q.paginate(B,Z,I);if(U===!1)return;if(U===B.request.options)G=B.request.options;else if(U!==void 0)G=T0(void 0,U,G);F++}};$.paginate=w,$.paginate.all=async(X,Y)=>{const G=[];for await(let Q of w(X,Y))G.push(Q);return G},$.paginate.each=w,$.stream=(X,Y)=>$(X,{...Y,isStream:!0});for(let X of iY)$[X]=(Y,G)=>$(Y,{...G,method:X}),$.stream[X]=(Y,G)=>{return $(Y,{...G,method:X,isStream:!0})};return Object.assign($,mY),Object.defineProperty($,"defaults",{value:K.mutableDefaults?K:vY.default(K),writable:K.mutableDefaults,configurable:K.mutableDefaults,enumerable:!0}),$.mergeOptions=l6,$};y.default=i6;cY(m6(),y)});var k1=h((d,b0)=>{var aY=d&&d.__createBinding||(Object.create?function(K,$,w,X){if(X===void 0)X=w;Object.defineProperty(K,X,{enumerable:!0,get:function(){return $[w]}})}:function(K,$,w,X){if(X===void 0)X=w;K[X]=$[w]}),a6=d&&d.__exportStar||function(K,$){for(var w in K)if(w!=="default"&&!Object.prototype.hasOwnProperty.call($,w))aY($,K,w)};Object.defineProperty(d,"__esModule",{value:!0});var nY=P("url"),n6=q1(),tY={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:K})=>K},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:void 0,dnsCache:void 0,decompress:!0,throwHttpErrors:!0,followRedirect:!0,isStream:!1,responseType:"text",resolveBodyOnly:!1,maxRedirects:10,prefixUrl:"",methodRewriting:!0,ignoreInvalidCookies:!1,context:{},http2:!1,allowGetBody:!1,https:void 0,pagination:{transform:(K)=>{if(K.request.options.responseType==="json")return K.body;return JSON.parse(K.body)},paginate:(K)=>{if(!Reflect.has(K.headers,"link"))return!1;const $=K.headers.link.split(",");let w;for(let X of $){const Y=X.split(";");if(Y[1].includes("next")){w=Y[0].trimStart().trim(),w=w.slice(1,-1);break}}if(w)return{url:new nY.URL(w)};return!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:1/0,backoff:0,requestLimit:1e4,stackAllItems:!0},parseJson:(K)=>JSON.parse(K),stringifyJson:(K)=>JSON.stringify(K),cacheOptions:{}},handlers:[n6.defaultHandler],mutableDefaults:!1},_1=n6.default(tY);d.default=_1;b0.exports=_1;b0.exports.default=_1;b0.exports.__esModule=!0;a6(q1(),d);a6(b1(),d)});var t6=h((B9,rY)=>{rY.exports={af:"Afrikaans",sq:"Albanian",am:"Amharic",ar:"Arabic",hy:"Armenian",as:"Assamese",az:"Azerbaijani",bn:"Bangla",ba:"Bashkir",eu:"Basque",bho:"Bhojpuri",brx:"Bodo",bs:"Bosnian",bg:"Bulgarian",yue:"Cantonese (Traditional)",ca:"Catalan",hne:"Chhattisgarhi",lzh:"Chinese (Literary)","zh-Hans":"Chinese Simplified","zh-Hant":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",prs:"Dari",dv:"Divehi",doi:"Dogri",nl:"Dutch",en:"English",et:"Estonian",fo:"Faroese",fj:"Fijian",fil:"Filipino",fi:"Finnish",fr:"French","fr-CA":"French (Canada)",gl:"Galician",lug:"Ganda",ka:"Georgian",de:"German",el:"Greek",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",he:"Hebrew",hi:"Hindi",mww:"Hmong Daw",hu:"Hungarian",is:"Icelandic",ig:"Igbo",id:"Indonesian",ikt:"Inuinnaqtun",iu:"Inuktitut","iu-Latn":"Inuktitut (Latin)",ga:"Irish",it:"Italian",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",rw:"Kinyarwanda","tlh-Latn":"Klingon (Latin)",gom:"Konkani",ko:"Korean",ku:"Kurdish (Central)",kmr:"Kurdish (Northern)",ky:"Kyrgyz",lo:"Lao",lv:"Latvian",ln:"Lingala",lt:"Lithuanian",dsb:"Lower Sorbian",mk:"Macedonian",mai:"Maithili",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mr:"Marathi","mn-Cyrl":"Mongolian (Cyrillic)","mn-Mong":"Mongolian (Traditional)",my:"Myanmar (Burmese)",mi:"Mori",ne:"Nepali",nb:"Norwegian",nya:"Nyanja",or:"Odia",ps:"Pashto",fa:"Persian",pl:"Polish",pt:"Portuguese (Brazil)","pt-PT":"Portuguese (Portugal)",pa:"Punjabi",otq:"Quertaro Otomi",ro:"Romanian",run:"Rundi",ru:"Russian",sm:"Samoan","sr-Cyrl":"Serbian (Cyrillic)","sr-Latn":"Serbian (Latin)",st:"Sesotho",nso:"Sesotho sa Leboa",tn:"Setswana",sn:"Shona",sd:"Sindhi",si:"Sinhala",sk:"Slovak",sl:"Slovenian",so:"Somali",es:"Spanish",sw:"Swahili",sv:"Swedish",ty:"Tahitian",ta:"Tamil",tt:"Tatar",te:"Telugu",th:"Thai",bo:"Tibetan",ti:"Tigrinya",to:"Tongan",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ug:"Uyghur",uz:"Uzbek (Latin)",vi:"Vietnamese",cy:"Welsh",xh:"Xhosa",yo:"Yoruba",yua:"Yucatec Maya",zu:"Zulu"}});var q0=h((N9,sY)=>{sY.exports={websiteEndpoint:"/translator",translateEndpoint:"/ttranslatev3?isVertical=1&",spellCheckEndpoint:"/tspellcheckv3?isVertical=1&",maxTextLen:1000,maxTextLenCN:5000,maxCorrectableTextLen:50,maxEPTTextLen:3000,correctableLangs:["da","en","nl","fi","fr","fr-CA","de","it","ja","ko","no","pl","pt","pt-PT","ru","es","sv","tr","zh-Hant","zh-Hans"],eptLangs:["af","sq","am","ar","hy","az","bn","bs","bg","ca","zh-Hans","zh-Hant","hr","cs","da","prs","nl","en","et","fil","fi","fr","de","el","gu","ht","he","hi","hu","is","id","iu","ga","it","ja","kn","kk","km","ko","ku","lo","lv","lt","mg","ms","ml","mt","mr","my","mi","ne","nb","or","ps","fa","pl","pt","pt-PT","pa","ro","ru","sm","sr-Cyrl","sr-Latn","sk","sl","es","sw","sv","ta","te","th","to","tr","uk","ur","vi","cy"],userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36 Edg/122.0.0.0"}});var s6=h((D9,r6)=>{function g1(K){if(!K||typeof K!=="string")return;if(_0[K])return K;K=K.toLowerCase();const $=Object.keys(_0);for(let w=0,X=$.length,Y;w<X;w++)if(Y=$[w],Y.toLowerCase()===K||_0[Y].toLowerCase()===K)return Y}function eY(K){return!!g1(K)}function K8(K){return oY.includes(g1(K))}var _0={"auto-detect":"Auto-detect",...t6()},{correctableLangs:oY}=q0();r6.exports={LANGS:_0,getLangCode:g1,isSupported:eY,isCorrectable:K8}});var o6=h((f9,$8)=>{$8.exports={af:"Afrikaans",am:"Amharic",ar:"Arabic",as:"Assamese",az:"Azerbaijani",ba:"Bashkir",bg:"Bulgarian",bho:"Bhojpuri",bn:"Bangla",bo:"Tibetan",brx:"Bodo",bs:"Bosnian",ca:"Catalan",cs:"Czech",cy:"Welsh",da:"Danish",de:"German",doi:"Dogri",dsb:"Lower Sorbian",dv:"Divehi",el:"Greek",en:"English",es:"Spanish",et:"Estonian",eu:"Basque",fa:"Persian",fi:"Finnish",fil:"Filipino",fj:"Fijian",fo:"Faroese",fr:"French","fr-CA":"French (Canada)",ga:"Irish",gl:"Galician",gom:"Konkani",gu:"Gujarati",ha:"Hausa",he:"Hebrew",hi:"Hindi",hne:"Chhattisgarhi",hr:"Croatian",hsb:"Upper Sorbian",ht:"Haitian Creole",hu:"Hungarian",hy:"Armenian",id:"Indonesian",ig:"Igbo",ikt:"Inuinnaqtun",is:"Icelandic",it:"Italian",iu:"Inuktitut","iu-Latn":"Inuktitut (Latin)",ja:"Japanese",ka:"Georgian",kk:"Kazakh",km:"Khmer",kmr:"Kurdish (Northern)",kn:"Kannada",ko:"Korean",ks:"Kashmiri",ku:"Kurdish (Central)",ky:"Kyrgyz",ln:"Lingala",lo:"Lao",lt:"Lithuanian",lug:"Ganda",lv:"Latvian",lzh:"Chinese (Literary)",mai:"Maithili",mg:"Malagasy",mi:"Mori",mk:"Macedonian",ml:"Malayalam","mn-Cyrl":"Mongolian (Cyrillic)","mn-Mong":"Mongolian (Traditional)",mni:"Manipuri",mr:"Marathi",ms:"Malay",mt:"Maltese",mww:"Hmong Daw",my:"Myanmar (Burmese)",nb:"Norwegian",ne:"Nepali",nl:"Dutch",nso:"Sesotho sa Leboa",nya:"Nyanja",or:"Odia",otq:"Quertaro Otomi",pa:"Punjabi",pl:"Polish",prs:"Dari",ps:"Pashto",pt:"Portuguese (Brazil)","pt-PT":"Portuguese (Portugal)",ro:"Romanian",ru:"Russian",run:"Rundi",rw:"Kinyarwanda",sd:"Sindhi",si:"Sinhala",sk:"Slovak",sl:"Slovenian",sm:"Samoan",sn:"Shona",so:"Somali",sq:"Albanian","sr-Cyrl":"Serbian (Cyrillic)","sr-Latn":"Serbian (Latin)",st:"Sesotho",sv:"Swedish",sw:"Swahili",ta:"Tamil",te:"Telugu",th:"Thai",ti:"Tigrinya",tk:"Turkmen","tlh-Latn":"Klingon (Latin)","tlh-Piqd":"Klingon (pIqaD)",tn:"Setswana",to:"Tongan",tr:"Turkish",tt:"Tatar",ty:"Tahitian",ug:"Uyghur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek (Latin)",vi:"Vietnamese",xh:"Xhosa",yo:"Yoruba",yua:"Yucatec Maya",yue:"Cantonese (Traditional)","zh-Hans":"Chinese Simplified","zh-Hant":"Chinese Traditional",zu:"Zulu"}});var $4=h((F9,K4)=>{function e6(K){if(!K||typeof K!=="string")return;if(k0[K])return K;K=K.toLowerCase();const $=Object.keys(k0);for(let w=0,X=$.length,Y;w<X;w++)if(Y=$[w],Y.toLowerCase()===K||k0[Y].toLowerCase()===K)return Y}function w8(K){return!!e6(K)}var k0=o6();K4.exports={LANGS:k0,getLangCode:e6,isSupported:w8}});var G4=h((U9,Y4)=>{async function w4(K){try{const $=await c1("https://edge.microsoft.com/translate/auth",{headers:{"User-Agent":K||X4}}).text(),w=JSON.parse(Buffer.from($.split(".")[1],"base64").toString("utf-8"));g0={token:$,tokenExpiresAt:w.exp*1000}}catch($){throw console.error("failed to fetch auth token"),$}}function X8(){return!g0||(g0.tokenExpiresAt||0)-Date.now()<60000}async function Y8(K,$,w,X){if(!K||!K.length)return;$&&$.toLocaleLowerCase()==="auto-detect"&&($=void 0),$=N0.getLangCode($),Array.isArray(w)||(w=[w]),w=w.map((B)=>N0.getLangCode(B)||"en"),w.length||(w=["en"]);const Y=!$||N0.isSupported($),G=w.every(N0.isSupported);if(!Y||!G)throw new Error(`Unsupported language(s): ${!Y?`'${$}'`:!G?w.map((B)=>`'${B}'`).join(", "):""}`);Array.isArray(K)||(K=[K]),X||={};const Q=X.authenticationHeaders;if(!Q){if(!B0)B0=w4(X.userAgent);if(await B0,X8())B0=w4(X.userAgent),await B0}const Z=Object.assign({},X.gotOptions),M=Z.headers||{};delete Z.headers;const F=K.map((B)=>({Text:B}));try{const{body:B}=await c1.post("https://api.cognitive.microsofttranslator.com/translate",{searchParams:new URLSearchParams([...w.map((L)=>["to",L]),...Object.entries({"api-version":"3.0",from:$,...X.translateOptions||{}}).filter(([L,I])=>I!=null&&I!=="")]),json:F,headers:{"User-Agent":X4,Authorization:Q?void 0:"Bearer "+g0.token,...Q||{},...M},responseType:"json",...Z});return B}catch(B){let L;if(B instanceof c1.RequestError){const I=B.response,U=JSON.stringify(I.body,null,2);L=` with a status code: ${I.statusCode} (${I.statusMessage})\n${U}\n`}else L=`: ${B.message}`;throw new Error(`failed to translate${L}`)}}var c1=k1(),N0=$4(),{userAgent:X4}=q0(),g0,B0;Y4.exports={translate:Y8,lang:N0}});var W4=h((h9,J4)=>{function v1(K,$){return K.replace("{s}",$?$+".":"")}function V8(){if(!k)return!0;const{tokenTs:K,tokenExpiryInterval:$}=k;return Date.now()-K>$}async function Q4(K,$){let w=k&&k.subdomain;try{const{body:X,request:{redirects:[Y]}}=await d1(v1(L4,w),{headers:{"user-agent":K||_.userAgent},agent:$,retry:{limit:3,methods:["GET"]}});if(Y)w=Y.match(/^https?:\/\/(\w+)\.bing\.com/)[1];const G=X.match(/IG:"([^"]+)"/)[1],Q=X.match(/data-iid="([^"]+)"/)[1],[Z,M,F]=JSON.parse(X.match(/params_AbusePreventionHelper\s?=\s?([^\]]+\])/)[1]),B={IG:G,IID:Q,key:Z,token:M,tokenTs:Z,tokenExpiryInterval:F};return Object.entries(B).forEach(([L,I])=>{if(!I)throw new Error(`failed to fetch required field: \`${L}\``)}),k={...B,subdomain:w,count:0}}catch(X){throw console.error("failed to fetch global config"),X}}function V4(K,$){const{IG:w,IID:X,subdomain:Y}=k;return v1(K?Q8:G8,Y)+"&IG="+w+"&IID="+(X+(K||$?"."+ ++k.count:""))+(K||!$?"":"&ref=TThis&edgepdftranslator=1")}function Z4(K,$,w,X){const{token:Y,key:G}=k,Q={fromLang:w,text:$,token:Y,key:G};if(!K)X&&(Q.to=X),Q.tryFetchingGenderDebiasedTranslations=!0;return Q}async function M4(K){let $,w;try{$=await K}catch(G){$=(w=G).response}let X;const Y=$.body;if(Y.ShowCaptcha)X="Sorry that bing translator seems to be asking for the captcha, please take care not to request too frequently.";else if(Y.StatusCode===401||$.statusCode===401)X="Translation limit exceeded. Please try it again later.";else if(Y.statusCode)X="Something went wrong!";if(X){const G=`Response status: ${$.statusCode} (${$.statusMessage})\nResponse body  : ${JSON.stringify(Y)}`;throw new Error(X+"\n"+G)}if(w){const G=new Error("Failed to request translation service");throw G.stack+="\n"+w.stack,G}return Y}async function Z8(K,$,w,X,Y,G,Q){if(!K||!(K=K.trim()))return;if(!D0)D0=Q4(G,Q);if(await D0,V8())D0=Q4(G,Q),await D0;$=$||"auto-detect",w=w||"en";const Z=Y0.isSupported($),M=Y0.isSupported(w);if(!Z||!M)throw new Error(`The language '${!Z?$:!M?w:""}' is not supported!`);$=Y0.getLangCode($),w=Y0.getLangCode(w),w==="auto-detect"&&(w="en");const F=K.length<=_.maxEPTTextLen&&[$,w].every((j)=>j==="auto-detect"||_.eptLangs.includes(j));if(!F){const j=k.subdomain==="cn"?_.maxTextLenCN:_.maxTextLen;if(K.length>j)throw new Error(`The supported maximum text length is ${j}. Please shorten the text.`)}const B=V4(!1,F),L=Z4(!1,K,$,w),I={"user-agent":G||_.userAgent,referer:v1(L4,k.subdomain)},U={limit:3,methods:["POST"]},N=await M4(d1.post(B,{headers:I,form:L,responseType:"json",agent:Q,retry:F?0:U})),W=N[0].translations[0],f=N[0].detectedLanguage||{},z={text:K,userLang:$,translation:W.text,language:{from:f.language,to:W.to,score:f.score}};if(X){const j=f.language,b=K.match(/"/g);if(K.length+(b&&b.length||0)<=_.maxCorrectableTextLen&&Y0.isCorrectable(j)){const G0=V4(!0),c0=Z4(!0,K,j),v=await M4(d1.post(G0,{headers:I,form:c0,responseType:"json",agent:Q,retry:U}));z.correctedText=v&&v.correctedText}else console.warn(`The detected language '${j}' is not supported to be corrected or the length of text is more than ${_.maxCorrectableTextLen}.`)}if(Y)z.raw=N;return z}var d1=k1(),Y0=s6(),_=q0(),L4="https://{s}bing.com"+_.websiteEndpoint,G8="https://{s}bing.com"+_.translateEndpoint,Q8="https://{s}bing.com"+_.spellCheckEndpoint,k,D0;J4.exports={translate:Z8,lang:Y0,MET:G4()}});var I4=U4(W4(),1);function M8(K,$="th"){return new Promise((w,X)=>{I4.translate(K,null,$).then((Y)=>{w(Y?.translation)}).catch((Y)=>{X(Y)})})}export{M8 as default};
